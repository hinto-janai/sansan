//! Audio resampling
//!
//! This file implements the abstract `Resampler`
//! trait using `rubato` as a backend.
//!
//! For documentation on `Resampler`, see `resampler.rs`.

//----------------------------------------------------------------------------------------------- use
use rubato::FftFixedIn;
use std::num::NonZeroUsize;
use crate::audio::resampler::Resampler;

//----------------------------------------------------------------------------------------------- Rubato
/// # Usage
/// 1. Create with `Rubato::new()`, providing some audio info
/// 2. Call `Rubato::resample()` with a freshly decoded
///    `AudioBuffer` from `symphonia` and receive a multi-channel
///    supporting, interleaved buffer of `[f32]`.
///    This call is not necessarily fast, but is real-time safe
///    do to using internal fixed buffers.
///
/// It may be worth pre-creating `Rubato` objects with
/// common audio sample rates, i.e - `44_100`, `48_000`, `96_000`, etc,
/// as re-creating one per-track basis is expensive.
pub(crate) struct Rubato {
	/// The actual resampling object.
	resampler: FftFixedIn<f32>,

	/// Temporary buffer(s) holding all the channels,
	/// which hold copied input data. It is quite
	/// unfortunate we have to copy audio samples
	/// we already have, but the input/output length
	/// must be "static" such that `resample()` works.
	///
	/// We cannot "extend" a `&[]` that isn't quite
	/// long enough, so much copy the bytes into
	/// a slice that is the right length.
	input: Vec<Vec<f32>>,

	/// Temporary buffer(s) holding all the channels
	/// of the successfully resampled audio data.
	output: Vec<Vec<f32>>,

	/// Ultimate "output" that will be used.
	///
	/// This is a single `Vec` of interleaved
	/// audio data from all channels.
	interleaved: Vec<f32>,

	/// The audio sample duration this Resampler is for.
	duration: usize,

	/// The amount of channels this Resampler is for.
	channel_count: usize,
}

//----------------------------------------------------------------------------------------------- Resampler Impl
impl Resampler for Rubato {
	#[inline]
	fn new(
		sample_rate_input: NonZeroUsize,
		sample_rate_target: NonZeroUsize,
		duration: NonZeroUsize,
		channel_count: NonZeroUsize,
	) -> Self {
		let sample_rate_input  = sample_rate_input.get();
		let sample_rate_target = sample_rate_target.get();
		let duration           = duration.get();
		let channel_count      = channel_count.get();

		// Create resampler.
		//
		// INVARIANT: this panics if input/output sample rate is 0.
		// This function has a warning against this, so unwrap.
		let resampler = FftFixedIn::<f32>::new(
			sample_rate_input,
			sample_rate_target,
			duration,
			2, // FIXME: this is inherited from symphonia, not sure what a good value is
			channel_count,
		).unwrap();

		// Create input/output buffers.
		let output = rubato::Resampler::output_buffer_allocate(&resampler, true);
		let input = rubato::Resampler::input_buffer_allocate(&resampler, true);

		// Interleaved capacity must be the capacity of all channels combined
		let interleaved = vec![0.0; duration * channel_count];

		Self { resampler, input, output, interleaved, duration, channel_count }
	}

	#[inline]
	fn resample(&mut self, audio: &symphonia::core::audio::AudioBuffer<f32>) -> &[f32] {
		// Collect `f32`'s from all channels into a single slice.
		self.input
			.iter_mut()
			.enumerate()
			.map(|(channel, input)| (symphonia::core::audio::Signal::chan(audio, channel), input))
			.for_each(|(channel, input)| input.extend_from_slice(channel));

		// Resample.
		//
		// INVARIANT: we unwrap here because it is
		// a logical error for this function to error.
		//
		// It means we gave `Resampler::new` wrong input,
		// or we wrote bad code here or something else.
		//
		// If this errors, it _should_ panic to
		// indicate that this code is incorrect.
		rubato::Resampler::process_into_buffer(
			&mut self.resampler,
			&self.input,
			&mut self.output,
			None,
		).unwrap();

		// Remove consumed samples from the input buffer.
		self.input
			.iter_mut()
			.for_each(|channel| {
				drop(channel.drain(0..self.duration));
			});

		// Resize the interleaved buffer such that
		// it matches the new output buffer length.
		//
		// https://github.com/hinto-janai/festival/pull/78
		self.interleaved.resize(self.channel_count * self.output[0].len(), 0.0);

		// Interleave the planar samples from Rubato.
		for frame in self.interleaved.chunks_exact_mut(self.channel_count) {
			for channel in &self.output {
				for (interleaved_sample, channel_sample) in frame.iter_mut().zip(channel.iter()) {
					*interleaved_sample = *channel_sample;
				}
			}
		}
		// Old [indexing] version of the above for reference.
//		for (i, frame) in self.interleaved.chunks_exact_mut(self.channel_count).enumerate() {
//			for (ch, s) in frame.iter_mut().enumerate() {
//				*s = self.output[ch][i];
//			}
//		}

		&self.interleaved
	}
}

//----------------------------------------------------------------------------------------------- TESTS
#[cfg(test)]
mod tests {
    use symphonia::core::audio::{AudioBuffer, Channels, Signal};
	use super::*;

	// Test audio file has this sample rate.
	const SAMPLE_RATE: usize = 44100;

	fn create_test_audio() -> Vec<AudioBuffer<f32>> {
		// Create symphonia source.
		let file = std::fs::File::open("assets/audio/dialog-information.oga").unwrap();
		let mss = symphonia::core::io::MediaSourceStream::new(
			Box::new(file),
			Default::default(),
		);
		let mut reader = symphonia::default::get_probe().format(
			&symphonia::core::probe::Hint::new(),
			mss,
			&Default::default(),
			&Default::default(),
		).unwrap().format;

		let codecs = symphonia::default::get_codecs();

		let track = reader
			.tracks()
			.iter()
			.find(|t| {
				t.codec_params.codec != symphonia::core::codecs::CODEC_TYPE_NULL &&
				codecs.get_codec(t.codec_params.codec).is_some()
			})
			.unwrap();

		assert_eq!(track.codec_params.sample_rate.unwrap(), SAMPLE_RATE as u32);
		assert_eq!(track.codec_params.channels.unwrap(), Channels::FRONT_LEFT | Channels::FRONT_RIGHT);

		let mut decoder = symphonia::default::get_codecs().make(&track.codec_params, &Default::default()).unwrap();

		// Start decoding, collect the `AudioBuffer`'s.
		let mut decoded = vec![];
		while let Ok(packet) = reader.next_packet() {
			let audio_buf_ref = decoder.decode(&packet).unwrap();
			let mut audio_buf = audio_buf_ref.make_equivalent();
			audio_buf_ref.convert::<f32>(&mut audio_buf);

			decoded.push(audio_buf);
		}

		// There's 5 `AudioBuffer`'s to test.
		assert_eq!(decoded.len(), 5);

		decoded
	}

	#[test]
	// Make sure that symphonia decodes audio deterministically.
	fn decode_output() {
		let audio: Vec<AudioBuffer<f32>> = create_test_audio();

		// Left channel.
		assert_eq!(audio[0].chan(0), &[0.0; 0]);
		assert_eq!(audio[1].chan(0), &[0.0024658307, 0.0024107813, 0.0030489494, 0.0035011726, 0.0034621097, 0.0033762474, 0.0034241173, 0.003630652, 0.0040855366, 0.0046814326, 0.0052516237, 0.0055530304, 0.0054286877, 0.005131016, 0.004958283, 0.0049705678, 0.0050529293, 0.0050489055, 0.0049997997, 0.0049301162, 0.0047256807, 0.00442818, 0.004055826, 0.0035638474, 0.0031538196, 0.0030219983, 0.0031162072, 0.0032662172, 0.0032983832, 0.0032762326, 0.0035086237, 0.0040825456, 0.0046600625, 0.004914608, 0.0049767755, 0.0052371286, 0.0058789067, 0.0067101046, 0.0072543956, 0.007089045, 0.006233327, 0.0052734576, 0.0049260855, 0.004574368, 0.0013798922, -0.0074813645, -0.021753082, -0.038659915, -0.055294186, -0.06852813, -0.07480587, -0.07352472, -0.06996021, -0.07211083, -0.08393067, -0.102235466, -0.11955086, -0.12875803, -0.12702292, -0.11867174, -0.112866975, -0.11524643, -0.12303443, -0.13019189, -0.13483196, -0.13877678, -0.14232498, -0.14346915, -0.14114892, -0.13634126, -0.13057564, -0.124900684, -0.11961423, -0.11346433, -0.103568405, -0.08791877, -0.06744941, -0.04472574, -0.021826211, 0.00022227503, 0.020531705, 0.03776121, 0.052164152, 0.066860095, 0.08469152, 0.10525705, 0.12584725, 0.14413613, 0.15969102, 0.17273279, 0.18296197, 0.1907777, 0.19710885, 0.20189285, 0.20516822, 0.20805371, 0.21076691, 0.211182, 0.20647727, 0.1962153, 0.18326497, 0.17103879, 0.16053669, 0.15043524, 0.13878176, 0.12396622, 0.10491523, 0.08145625, 0.054756347, 0.02723892, 0.002072198, -0.0182443, -0.03394737, -0.04808662, -0.06388839, -0.08236703, -0.1023904, -0.122406736, -0.14154351, -0.15911876, -0.17370443, -0.18294007, -0.1849497, -0.1809183, -0.17555879, -0.17346126, -0.17485064, -0.17593598]);
		assert_eq!(audio[2].chan(0), &[-0.17300083, -0.16434287, -0.14915226, -0.12782021, -0.10313001, -0.079438955, -0.060123026, -0.045159753, -0.03126919, -0.014557331, 0.0073898174, 0.034366306, 0.063259035, 0.0901303, 0.112704635, 0.13071845, 0.14478506, 0.15515693, 0.16226248, 0.16812465, 0.17525208, 0.18430366, 0.19343702, 0.19940063, 0.19984172, 0.194514, 0.18450445, 0.17182627, 0.15867758, 0.14591648, 0.13304248, 0.11890644, 0.10231713, 0.08289293, 0.060929015, 0.03728735, 0.013816357, -0.007828115, -0.027644148, -0.047014967, -0.06734939, -0.08849902, -0.10908456, -0.1285924, -0.14751713, -0.16573422, -0.18177494, -0.19345984, -0.19973484, -0.20180395, -0.20199734, -0.20236985, -0.20360722, -0.20399901, -0.2006297, -0.19173771, -0.17734674, -0.15896674, -0.13889396, -0.11897361, -0.10014765, -0.082076035, -0.062619105, -0.039370906, -0.0120083615, 0.01734437, 0.04539237, 0.06959631, 0.08954981, 0.10635479, 0.12119065, 0.13489433, 0.14797133, 0.16054474, 0.17258158, 0.18356328, 0.19182764, 0.1952878, 0.19279367, 0.1848405, 0.17369623, 0.16206227, 0.1511372, 0.14049205, 0.12894872, 0.115189224, 0.09827578, 0.07799082, 0.05528577, 0.03209782, 0.010005584, -0.010495852, -0.029818976, -0.04897494, -0.06868811, -0.08859099, -0.1075014, -0.124433056, -0.13918334, -0.15182166, -0.16200882, -0.1688673, -0.1716664, -0.17102498, -0.16857024, -0.16550004, -0.1620557, -0.15713488, -0.14877632, -0.13596715, -0.11910522, -0.099500924, -0.07905825, -0.05920231, -0.04014974, -0.021189056, -0.0013403752, 0.01964297, 0.04089282, 0.060939, 0.07857985, 0.09366758, 0.1068062, 0.11866995, 0.12963703, 0.13927934, 0.14676471, 0.15167323, 0.15391113, 0.153674, 0.1511007, 0.14595845, 0.13816991, 0.12813614, 0.11655306, 0.104217544, 0.09155376, 0.07839503, 0.06403702, 0.04766724, 0.029393341, 0.01034062, -0.008256185, -0.025716474, -0.042083114, -0.057659715, -0.07281227, -0.08794596, -0.102634914, -0.11563666, -0.12596712, -0.133206, -0.13761745, -0.13990131, -0.14028093, -0.13854279, -0.13468502, -0.12905377, -0.122056894, -0.113693744, -0.10345082, -0.09055155, -0.07453942, -0.05605761, -0.03664847, -0.017891705, -0.0007347715, 0.014962548, 0.029974617, 0.044995803, 0.060398515, 0.075740196, 0.08991769, 0.101981, 0.111344084, 0.11812379, 0.12311379, 0.12678148, 0.12908876, 0.12989886, 0.12887764, 0.1256863, 0.12032215, 0.11295603, 0.10367966, 0.09263192, 0.080268055, 0.067185454, 0.053874414, 0.040699787, 0.027579442, 0.013924362, -0.00073223474, -0.016306493, -0.03215177, -0.04733282, -0.06116255, -0.07341149, -0.08412768, -0.09346304, -0.10142533, -0.1077024, -0.11194452, -0.1141705, -0.11470027, -0.113761276, -0.11127831, -0.10699738, -0.100717254, -0.09239982, -0.082283065, -0.07088463, -0.058662795, -0.045812484, -0.032361183, -0.018322863, -0.0039296923, 0.0104220845, 0.024306132, 0.037146643, 0.048574857, 0.058771934, 0.06806213, 0.0765772, 0.08409902, 0.09012765, 0.09437125, 0.096792266, 0.09750365, 0.09684832, 0.094983816, 0.091750324, 0.08705682, 0.0809017, 0.07337913, 0.0647491, 0.055294737, 0.04526716, 0.034850694, 0.024136867, 0.013196932, 0.0021489616, -0.008907589, -0.020043045, -0.031245923, -0.042201582, -0.052570764, -0.06201685, -0.07023691, -0.077088274, -0.08239989, -0.08621393, -0.08870642, -0.089690685, -0.08917307, -0.087379344, -0.0841249, -0.07933025, -0.07312355, -0.0655733, -0.056993827, -0.047530375, -0.0371813, -0.026318777, -0.015151356, -0.0037835655, 0.007430658, 0.018430576, 0.029209398, 0.039382197, 0.048535757, 0.056348886, 0.062709674, 0.067835435, 0.072043225, 0.07551771, 0.07812078, 0.079511024, 0.079426505, 0.07782438, 0.07491208, 0.070826724, 0.06563922, 0.059583616, 0.05271338, 0.045033116, 0.036777265, 0.028052753, 0.018949121, 0.0096001085, -2.4600886e-6, -0.009749462, -0.019489039, -0.028938603, -0.037616737, -0.04551971, -0.05281335, -0.05938855, -0.0653412, -0.070496514, -0.074264884, -0.076462105, -0.07705935, -0.07603697, -0.07370187, -0.07029279, -0.065900646, -0.060599633, -0.05433956, -0.047155388, -0.039176315, -0.030535322, -0.021442395, -0.011984266, -0.0021776324, 0.007675765, 0.017097928, 0.025794305, 0.03362188, 0.04050186, 0.046683505, 0.05239363, 0.057296194, 0.06110174, 0.06371318, 0.06478611, 0.06443927, 0.06332536, 0.061730795, 0.0596298, 0.05674181, 0.052579213, 0.047148198, 0.040863384, 0.034047194, 0.026924774, 0.019578425, 0.012054743, 0.00448948, -0.0030134653, -0.010360348, -0.017517805, -0.02452995, -0.03128349, -0.037516683, -0.04304118, -0.04781352, -0.051814098, -0.054868586, -0.056703478, -0.05727773, -0.056938965, -0.055988066, -0.054278493, -0.05153015, -0.04767769, -0.04284768, -0.037185952, -0.030753287, -0.023877975, -0.017052144, -0.010208627, -0.0030796707, 0.004243215, 0.011680521, 0.019103842, 0.026206808, 0.03280288, 0.038667656, 0.043583058, 0.047569364, 0.050610613, 0.052659452, 0.0538098, 0.054145128, 0.053695828, 0.05239005, 0.050060675, 0.046737514, 0.042642158, 0.037872154, 0.03247007, 0.026646039, 0.020564344, 0.014212903, 0.0076195933, 0.0008646104, -0.0058917706, -0.012459717, -0.018889036, -0.025085203, -0.030614901, -0.035411086, -0.03975536, -0.043749332, -0.047328312, -0.05026808, -0.05227864, -0.053207193, -0.053099286, -0.052198924, -0.050527375, -0.047838613, -0.04422346, -0.03999924, -0.03533883, -0.030236157, -0.024494529, -0.018139224, -0.011481972, -0.0046826988, 0.0021104654, 0.008773589, 0.015335335, 0.021597696, 0.027303318, 0.03244303, 0.03696172, 0.040711824, 0.043592975, 0.045590904, 0.046810076, 0.04724751, 0.046726562, 0.045207523, 0.0428766, 0.03993375, 0.03647522, 0.03250885, 0.027935766, 0.022743672, 0.017206287, 0.011568092, 0.0059217922, 0.00036286237, -0.0052416865, -0.011039475, -0.016708562, -0.021888522, -0.026591396, -0.030826902, -0.03440635, -0.037309177, -0.03978769, -0.041876655, -0.043344717, -0.044121332, -0.044189926, -0.043451685, -0.041868426, -0.039478797, -0.0364666, -0.032928996, -0.028709093, -0.023876494, -0.01871406, -0.013324842, -0.007787086, -0.0022105714, 0.0034138067, 0.009198721, 0.015174802, 0.020974329, 0.026057927, 0.030302228, 0.033930637, 0.037023596, 0.03945384, 0.041281693, 0.04264449, 0.04327313, 0.04291061, 0.04172145, 0.03988272, 0.037498534, 0.034622457, 0.031207377, 0.02739558, 0.023316778, 0.018852714, 0.01407362, 0.009235451, 0.0043799714, -0.0005339277, -0.005346463, -0.009874955, -0.01411129, -0.018037682, -0.021669924, -0.02504382, -0.027921924, -0.030230045, -0.032181468, -0.03362734, -0.034370977, -0.034470502, -0.033885263, -0.032700118, -0.03109338, -0.029075462, -0.02661765, -0.023567308, -0.019888368, -0.015770612, -0.011293865, -0.0066586137, -0.0019928752, 0.0028569098, 0.0077106436, 0.012301937, 0.016540373, 0.02028169, 0.023759153, 0.027146244, 0.030097587, 0.032558974, 0.034574673, 0.035856865, 0.036285438, 0.035935547, 0.035021696, 0.033753783, 0.032060802, 0.029929746, 0.027338825, 0.024127398, 0.02039016, 0.01629264, 0.011984619, 0.0077340356, 0.0035710218, -0.0006172862, -0.004783447, -0.008815981, -0.012623567, -0.016200798, -0.019562585, -0.022765988, -0.025842164, -0.0284764, -0.03042847, -0.03177908, -0.032470696, -0.032599285, -0.032460533, -0.032011125, -0.031091526, -0.029613372, -0.027571611, -0.025095582, -0.022141736, -0.018709866, -0.015012103, -0.011100564, -0.0069877664, -0.002693614, 0.0017106822, 0.0059086885, 0.009810397, 0.013519365, 0.016991492, 0.020265413, 0.023138143, 0.025297757, 0.026958, 0.02827969, 0.029145215, 0.02953554, 0.029333998, 0.028534662, 0.02726839, 0.02543455, 0.023025138, 0.02022579, 0.017213339, 0.01408637]);
		assert_eq!(audio[3].chan(0), &[0.010712826, 0.0070869694, 0.0033504085, -0.0005724021, -0.004449791, -0.007889649, -0.01109507, -0.014346241, -0.017636448, -0.020874657, -0.023738539, -0.02606236, -0.028034553, -0.029620662, -0.0306344, -0.031056976, -0.030918803, -0.030305674, -0.029303432, -0.02792694, -0.026218753, -0.024174634, -0.021754103, -0.018942297, -0.015681045, -0.012056214, -0.008251452, -0.0042437506, -0.00013790662, 0.0036880425, 0.0070974817, 0.010194289, 0.013114604, 0.016019022, 0.018760676, 0.02102171, 0.022808015, 0.024113126, 0.024748629, 0.024836127, 0.024592895, 0.023896214, 0.0226835, 0.021185804, 0.019524816, 0.017588442, 0.015219947, 0.012368774, 0.009224562, 0.0060269097, 0.0028459383, -0.00023463793, -0.0031094933, -0.005783113, -0.008348891, -0.010962266, -0.013535828, -0.015790561, -0.017709376, -0.019247413, -0.02029721, -0.021020865, -0.02135398, -0.021164529, -0.020724962, -0.02003765, -0.018853884, -0.017262498, -0.015446604, -0.013445276, -0.011088999, -0.008318521, -0.00544093, -0.0025126464, 0.0005094335, 0.0033654082, 0.0060770432, 0.008790706, 0.01148212, 0.014163582, 0.016578015, 0.018508993, 0.020051874, 0.021103486, 0.021654593, 0.021921966, 0.021996133, 0.021936946, 0.021555042, 0.020578844, 0.01906237, 0.017128376, 0.014992789, 0.012670124, 0.009926611, 0.00713465, 0.004654047, 0.0022713186, -2.9752962e-5, -0.0024193614, -0.0051245666, -0.007747289, -0.010106635, -0.012273691, -0.014009955, -0.015301718, -0.016248234, -0.016858594, -0.017329682, -0.017700633, -0.017811745, -0.01758191, -0.016971169, -0.016002499, -0.014670755, -0.012981657, -0.011035175, -0.008879618, -0.006597498, -0.0042552873, -0.001780347, 0.00089128676, 0.0037407232, 0.0065274048, 0.009018361, 0.011303135, 0.013439421, 0.0154287275, 0.017216213, 0.018594997, 0.019754743, 0.020852093, 0.021546304, 0.021816812, 0.021722779, 0.021153418, 0.020301169, 0.019074013, 0.017365558, 0.015562481, 0.013656495, 0.0115633635, 0.009468503, 0.0071324124, 0.004442904, 0.0016321554, -0.0011912134, -0.0038027256, -0.0061709066, -0.008451585, -0.010515233, -0.012413025, -0.014271065, -0.015938384, -0.017401198, -0.01860684, -0.019384509, -0.019812863, -0.019951481, -0.019729456, -0.019152423, -0.018247422, -0.017074535, -0.015720008, -0.014236974, -0.012649161, -0.010918217, -0.008941419, -0.006616407, -0.0040719123, -0.0016409769, 0.00055897585, 0.002563072, 0.004355915, 0.0060255155, 0.0076146387, 0.009045602, 0.010338581, 0.011506101, 0.012488002, 0.013226595, 0.013590839, 0.013475606, 0.012948353, 0.012152122, 0.011155819, 0.009972024, 0.008680172, 0.0073257782, 0.005840638, 0.0042130407, 0.0024286325, 0.00043194278, -0.0016706709, -0.0037440313, -0.005750022, -0.0075364467, -0.008945043, -0.010121928, -0.011297774, -0.012353727, -0.013090641, -0.013636737, -0.013987633, -0.013875827, -0.013417937, -0.01290072, -0.012262009, -0.0114020575, -0.010320977, -0.009008836, -0.0075416025, -0.0059772497, -0.0043374915, -0.0026818635, -0.0009899349, 0.00073627953, 0.0024206112, 0.0040659695, 0.0056278035, 0.0070368205, 0.008368403, 0.009603771, 0.010624266, 0.011452971, 0.012088635, 0.0124862455, 0.012633968, 0.012434417, 0.011962331, 0.011373853, 0.010508398, 0.009328201, 0.007943236, 0.0062446333, 0.004414409, 0.0027360627, 0.0010959547, -0.0004768226, -0.0019264885, -0.0034637502, -0.0051225703, -0.0068744426, -0.008646547, -0.01018533, -0.011420975, -0.0123298345, -0.012881765, -0.013235044, -0.013418998, -0.013457229, -0.013451959, -0.013264327, -0.0128027415, -0.0120455315, -0.0108686825, -0.009422224, -0.007978379, -0.006556606, -0.0050572976, -0.0033799305, -0.0015331816, 0.00036684645, 0.0022887415, 0.004258313, 0.006213519, 0.008061087, 0.009786261, 0.011267369, 0.012333225, 0.013146072, 0.013885765, 0.014517281, 0.015084314, 0.015439775, 0.01534717, 0.0149283195, 0.014262332, 0.013341106, 0.012309353, 0.0111886095, 0.009940553, 0.0085335625, 0.0069375806, 0.005292608, 0.0036449588, 0.0019941423, 0.00046286255, -0.0010373257, -0.0025810762, -0.0040781447, -0.0055595804, -0.006925571, -0.0080087185, -0.008847275, -0.0095185805, -0.010143184, -0.010688512, -0.010953915, -0.010945, -0.01066143, -0.0101558175, -0.009659989, -0.009092872, -0.008330362, -0.0074545024, -0.0064206324, -0.005294452, -0.004148173, -0.0028982693, -0.0016512937, -0.0004100236, 0.00092167535, 0.002202795, 0.0034033242, 0.0045444085, 0.005543573, 0.0063815033, 0.0069806147, 0.0073922276, 0.0077509265, 0.007942075, 0.007949797, 0.007899643, 0.0077532735, 0.0073989527, 0.006777325, 0.006025307, 0.0052966103, 0.004571743, 0.0039014523, 0.0032810306, 0.0025808124, 0.001743601, 0.00076051324, -0.00022223144, -0.0011028753, -0.0019198314, -0.00253279, -0.0029313827, -0.003241979, -0.0034864158, -0.0038451357, -0.0042506866, -0.004422589, -0.004474353, -0.0044484246, -0.004269683, -0.0040116403, -0.003605464, -0.0031394642, -0.0027544624, -0.002292824, -0.0017655136, -0.0012900428, -0.0008539734, -0.00041871268, 0.000115243776, 0.0006335738, 0.0009669727, 0.0012057817, 0.0013645317, 0.0014881716, 0.0016681609, 0.0017614763, 0.0017311675, 0.0016216862, 0.0013625883, 0.00099884, 0.00057846087, 0.00010561419, -0.00040480308, -0.00097212056, -0.0014650503, -0.0018395372, -0.0022933122, -0.0028369776, -0.0033645567, -0.003827182, -0.004132089, -0.004289866, -0.0043575475, -0.0043506986, -0.0043143034, -0.0041889492, -0.0039369706, -0.003638032, -0.0032800413, -0.0028730966, -0.0024320842, -0.0018243229, -0.0010194196, -0.00013497642, 0.00067345676, 0.0012845626, 0.0018432094, 0.0025272004, 0.0032538997, 0.00394299, 0.0045772623, 0.0051250607, 0.00560539, 0.0060133752, 0.0063142846, 0.0064876946, 0.0065848795, 0.0066655567, 0.0065720547, 0.0062170406, 0.005751237, 0.0051985355, 0.004633961, 0.004183018, 0.0036266167, 0.002798402, 0.0017835354, 0.000627647, -0.00052931905, -0.0015644636, -0.0025455058, -0.0034699058, -0.00430911, -0.0051169605, -0.0058946903, -0.006655625, -0.0074121887, -0.008066351, -0.008601633, -0.009078436, -0.009376586, -0.009392161, -0.009207488, -0.008899579, -0.008582865, -0.008289568, -0.007840552, -0.007233785, -0.0065271636, -0.005578463, -0.0044810143, -0.0034755834, -0.0024963953, -0.0014200289, -0.00031586434, 0.0007744135, 0.0019088689, 0.0030180356, 0.0040201694, 0.004992553, 0.005874695, 0.00660057, 0.0072822208, 0.007826731, 0.008135066, 0.008319344, 0.008409988, 0.00845626, 0.008487545, 0.008420546, 0.008210493, 0.0077487445, 0.007049775, 0.0062613795, 0.00538241, 0.00455171, 0.003874128, 0.00314121, 0.002284053, 0.0013243898, 0.00028205407, -0.0006479496, -0.0014222637, -0.002158509, -0.0028776499, -0.0035608057, -0.0041794525, -0.004732986, -0.0052085146, -0.0055938475, -0.0059033707, -0.006022158, -0.005924041, -0.0057358937, -0.0054502496, -0.0050673797, -0.004581247, -0.0039687343, -0.0033652866, -0.0027131264, -0.0019043845, -0.0011016703, -0.0002721534, 0.0006593999, 0.0015828134, 0.0025561096, 0.0035032944, 0.0042644115, 0.0049834074, 0.0056657586, 0.006271429, 0.0069288625, 0.0074692015, 0.00773812, 0.007866407, 0.007887464, 0.007839851, 0.007746779, 0.007515853, 0.007130473, 0.0065751635, 0.005941798, 0.005289149, 0.0044229915, 0.003466478, 0.0026274892, 0.0017260246, 0.00076347636, -0.00022284593, -0.0013142815, -0.0023261947, -0.0032410747, -0.004163605, -0.005001018, -0.0057872385, -0.0065058954, -0.007078751, -0.0075520864, -0.007913846, -0.008213293, -0.008397672, -0.008398669, -0.008440924, -0.008407595, -0.0080601275, -0.0076160836, -0.0071252985, -0.006533717, -0.005936325, -0.0052683544, -0.0045554265, -0.0038990027, -0.0032996817, -0.0027233204, -0.0020472466, -0.0013350167, -0.000679414, -6.006798e-6, 0.0005215616, 0.0008793988, 0.0012584521, 0.0015221881, 0.0016561009, 0.0018217608, 0.0019697568, 0.0021084265, 0.0021692063, 0.002004466, 0.0017381137, 0.0014675709, 0.0011640511, 0.00085997884, 0.00058162655, 0.0003901564, 0.00024688174, -2.2747554e-5, -0.00040885434, -0.00085350056, -0.0013783327, -0.001819748, -0.0020213549, -0.0020656553, -0.0020829525, -0.002161092, -0.002244712, -0.002221364, -0.0021915948, -0.0022025546, -0.0021320311, -0.0019815546, -0.0017714611, -0.0014897475, -0.0011694107, -0.0008358634, -0.0005744833, -0.00038604275, -0.00019092206, 2.0575011e-5, 0.00036724308, 0.00085147074, 0.00131404, 0.001747469, 0.002002215, 0.0020121778, 0.0020407352, 0.0021016388, 0.0022195529, 0.0025305806, 0.0027831872, 0.00288603, 0.003006138, 0.0030581506, 0.0029860944, 0.0028129723, 0.002563849, 0.0023493355, 0.0021537158, 0.0020211358, 0.002042891, 0.0020175176, 0.0018364385, 0.0015889232, 0.0012627187, 0.00096268696, 0.0008070156, 0.0007213894, 0.00070809457, 0.0007133961, 0.0006034756, 0.00049413857, 0.0004100243, 0.00022640568, 9.561563e-5, 6.558024e-5, -9.892741e-6, -2.7969945e-5, 5.347631e-5, 0.0001320726, 0.00023243605, 0.00029138592, 0.00026428438, 0.00024640415, 0.00021224075, 0.00018078327, 0.0002356341, 0.0002664206, 0.0002474517, 0.00028196617, 0.00021762447, -5.199283e-5, -0.00032384926, -0.00056685414, -0.0008389149, -0.0010326048, -0.0012553068, -0.0015602775, -0.0017579626, -0.0019441685, -0.002192618, -0.0024034602, -0.002686957, -0.00299758, -0.003176825, -0.0032727318, -0.0033171494, -0.0033806146, -0.0034644732, -0.0034682555, -0.0034646904, -0.0034570247, -0.0034492244, -0.0035222701, -0.0035162165, -0.0033840432, -0.0032179307, -0.002960571, -0.0026973078, -0.0025008772, -0.0022951143, -0.0020722898, -0.0017801196, -0.0014127642, -0.0009981773, -0.0005164739, -0.00011006475, 0.00021993846, 0.0006353955, 0.0010272192, 0.0013694047, 0.0018086944, 0.002226572, 0.0025417302, 0.0028753446, 0.0031629177, 0.0032992288, 0.0033311208, 0.003294239, 0.003274787, 0.0032673946, 0.0031303286, 0.002958455, 0.0027685137, 0.002424173, 0.0021099835, 0.0017977317, 0.0012541062, 0.0007111154, 0.00027657417, -0.00022016256, -0.0007287795, -0.0012320692, -0.0017651061, -0.0023000604, -0.0028263498, -0.003325255, -0.0038287314, -0.004230355, -0.0044692103, -0.0047559706, -0.0050674556, -0.005338153, -0.005653929, -0.0058536376, -0.0058998135, -0.0058858935, -0.005745087, -0.0055417176, -0.0052786684, -0.004926783, -0.004608146, -0.0042350874, -0.003728063, -0.0031649661, -0.0025665637, -0.0019707102, -0.0012929898, -0.00050718593, 0.00026339083, 0.0011057253, 0.001959175, 0.0026505785, 0.0033292256, 0.004010497, 0.004600857, 0.005198627, 0.005761322, 0.0061991503, 0.006556413, 0.0068493243, 0.0070523596, 0.007160713, 0.007238648, 0.0072345454, 0.0070442366, 0.00682752, 0.006607756, 0.0062565086, 0.00591919, 0.005510247, 0.0048622643, 0.004267039, 0.0037262097, 0.0030158095, 0.0023381382, 0.0017160019, 0.0009955396, 0.00029418012, -0.00042191125, -0.0012245661, -0.0019498613, -0.002563262, -0.00316633, -0.0037395696, -0.0041447193, -0.00440591, -0.0047201635, -0.0050224597, -0.0051944936, -0.005333228, -0.0053866343, -0.0052732797, -0.005056532, -0.00477538, -0.004484402, -0.004161046, -0.0037388713, -0.003258648, -0.0027781485, -0.002307096, -0.0017173947, -0.0009917449, -0.00030512467, 0.00035146275, 0.0009115457, 0.0013519689, 0.001916823, 0.002450998, 0.0028539293, 0.0033565066, 0.0037574368, 0.0040145908, 0.0043057194, 0.00444309, 0.0044919522, 0.0045243907, 0.004392002, 0.0042527383, 0.004088234, 0.003791871, 0.0034909032, 0.0030857027, 0.00256822, 0.0020675976, 0.0014934279, 0.00087946106, 0.00028921338, -0.00032906537, -0.00093831995, -0.0015536208, -0.0021762606, -0.002732644, -0.0032876367, -0.003887902, -0.0043887594, -0.0047548153, -0.005147281, -0.005517582, -0.0057365876, -0.005898664, -0.0059950477, -0.006015419, -0.0060571916, -0.006005329, -0.0058356132, -0.005603791, -0.0052387817, -0.004879133, -0.004551257, -0.0041264896, -0.003735297, -0.0033193012, -0.0027361433, -0.0021393844, -0.0015500041, -0.00095265365, -0.00046399113, -4.1963358e-5, 0.0003832893, 0.0008058143, 0.0012151601, 0.0015885594, 0.0019785578, 0.0023830205, 0.002676209, 0.0028730892, 0.0030218149, 0.0030120264, 0.0029078443, 0.002876747, 0.0028148969, 0.002706373, 0.0026461782, 0.0024632085, 0.0021342137, 0.0018172627, 0.0014691191, 0.0010788639, 0.0006824256, 0.00031707797, 4.592398e-5, -0.00024075573, -0.0005413352, -0.00077804865, -0.0010740409, -0.0013747456, -0.0015866548, -0.0017649047, -0.001848905, -0.0018688188, -0.0018429233, -0.0017315213, -0.0016766732, -0.001594376, -0.0014086042, -0.0013249565, -0.0012185797, -0.0009952534, -0.0008036685, -0.00050361606, -0.00013071789, 0.00012772629, 0.00040357135, 0.0006900746, 0.0009755071, 0.0013509069, 0.0016102707, 0.0017909659, 0.0020936148, 0.0023125783, 0.0024470945, 0.0026418464, 0.0027579754, 0.0028482298, 0.0029544693, 0.0029267059, 0.0028300781, 0.0026894314, 0.0024786838, 0.0022855024, 0.0020359256, 0.0016691595, 0.0012391178, 0.0008027931, 0.00045045774, 0.00011137197, -0.0002859959, -0.0007001229, -0.0011790146, -0.0016588236, -0.0020789932, -0.0024837118, -0.0027902904, -0.0030230475, -0.0032047243, -0.003281389, -0.0034240265, -0.0036558004, -0.003849629, -0.0040025986, -0.004037867, -0.003996192, -0.0039116796, -0.0036928675, -0.0035058327, -0.0033747128, -0.0031427527, -0.00291967, -0.0026899432, -0.0023387468, -0.0019209072, -0.0014523411, -0.0009995772, -0.0006158941, -0.00022878329, 0.00016508606, 0.0005449696, 0.0009072208, 0.0012628469, 0.0016319284, 0.0019509629, 0.0022156837, 0.0024627554, 0.002615423, 0.002691101, 0.0028240916, 0.0029531042, 0.0029229624, 0.0028406368, 0.0028207111, 0.002736676, 0.0025882572, 0.0024399082, 0.0022350727, 0.002011232, 0.001749504, 0.0014215881, 0.0011397038, 0.00086646527, 0.00056043547, 0.00026497565, -4.683924e-5, -0.00030728368, -0.00052978616, -0.0007882499, -0.0009684167, -0.0010976826, -0.0012626466, -0.001361429, -0.0014131569, -0.0014993985, -0.0015306757, -0.0014669221, -0.0014346527, -0.0014065321, -0.0012356641, -0.0010534073, -0.0009238952, -0.00070631225, -0.00051181216, -0.00035183562, -8.930615e-5, 0.0001681635, 0.0004341511, 0.00073913176, 0.0009604279, 0.0011975721, 0.0014948283, 0.001734805, 0.00192702, 0.0021008519, 0.0022676163, 0.002387785, 0.0024537276, 0.0025473954, 0.002591258, 0.0025576937, 0.0025386282, 0.0024677957, 0.0023380516, 0.002188681, 0.0019817965, 0.0017730254, 0.0015650765, 0.0013300693, 0.0011339001, 0.0009351212, 0.0006456933, 0.0003075509, 2.7385344e-5, -0.00021195754, -0.00051955844, -0.0008090793, -0.0010094633, -0.001260491, -0.0015278907, -0.0017187111, -0.0019229953, -0.002086738, -0.0021153346, -0.002164214, -0.0022933073, -0.002323389, -0.0022505003, -0.002231962, -0.0022189768]);
		assert_eq!(audio[4].chan(0), &[-0.0021512725, -0.0021469602, -0.0021490848, -0.002000614, -0.0018188007, -0.0017218203, -0.0016088261, -0.0014650746, -0.0013600715, -0.0012621513, -0.0011595403, -0.0010587423, -0.00090575975, -0.00072184805, -0.0005905634, -0.00048349146, -0.00033867784, -0.00025421847, -0.0002856653, -0.00028494603, -0.00025117354, -0.00026221186, -0.00023858035, -0.00024523132, -0.00030947063, -0.00032299952, -0.00042201302, -0.00058996276, -0.0006440012, -0.0006877916, -0.0007396736, -0.0007773259, -0.0008775294, -0.00092997367, -0.0009681861, -0.0010787806, -0.0011300739, -0.0011419669, -0.0011314055, -0.0010460591, -0.0009806682, -0.0009295392, -0.0008634661, -0.00081463705, -0.0007327436, -0.0006156822, -0.00047914538, -0.00033086629, -0.00019465789, -4.300125e-5, 0.00012309148, 0.00031925537, 0.0005265897, 0.00067110243, 0.0008137546, 0.0009771024, 0.0011210529, 0.0012394696, 0.001284339, 0.0013585589, 0.001474466, 0.0014590853, 0.0014453058, 0.0014988718, 0.0014607165, 0.001435267, 0.00142777, 0.0012828227, 0.0011330101, 0.0010751403, 0.0009774751, 0.000834951, 0.0007445588, 0.000644091, 0.0004799691, 0.00033015592, 0.00016524743, -3.876846e-5, -0.00021942897, -0.00041379593, -0.0006027101, -0.0007443306, -0.00088373007, -0.0010261914, -0.0011942791, -0.0013244599, -0.0013801783, -0.0015002029, -0.0016110427, -0.0016408183, -0.0016695595, -0.0016004465, -0.0015258183, -0.0015503451, -0.00145723, -0.0013180498, -0.001267494, -0.0011495262, -0.0009967175, -0.000903808, -0.0008203305, -0.00072185486, -0.0005870582, -0.0004297846, -0.00027950722, -0.00014668019, -3.6872272e-5, 9.7668446e-5, 0.00024328817, 0.00034950557, 0.00044291234, 0.00054045115, 0.0006396844, 0.0007142633, 0.0007601123, 0.0008264389, 0.00085165363, 0.00079399516, 0.0007679762, 0.0007874248, 0.00076574006, 0.0007079241, 0.00063826365, 0.00055587356, 0.00049222837, 0.00043696715, 0.00034407218, 0.00024467692, 0.00015880344, 8.430633e-5, 4.1830383e-5, -4.520788e-5, -0.00017616508, -0.0002591556, -0.0003860722, -0.00055110815, -0.0006165705, -0.0006672674, -0.0007674198, -0.0008478487, -0.00090434356, -0.0009661104, -0.001043709, -0.0010567736, -0.0010095, -0.0010274284, -0.0010195749, -0.00096852024, -0.0010163665, -0.0010233998, -0.0009429784, -0.00091329584, -0.00084248465, -0.00075183826, -0.0007283877, -0.0006259448, -0.0004922085, -0.00044487702, -0.00037680144, -0.00030282466, -0.00024337202, -0.00010534952, 3.6607173e-5, 0.0001461826, 0.00027206927, 0.00036161285, 0.00047132687, 0.0006314647, 0.00071376376, 0.0007625069, 0.00087982015, 0.0010000016, 0.0010571505, 0.0010992573, 0.0011901861, 0.0012413353, 0.0012214408, 0.0012601031, 0.0012956583, 0.0012744106, 0.0012822922, 0.0012492476, 0.001201709, 0.0012039997, 0.0011397948, 0.0010413998, 0.00093515305, 0.0007853066, 0.000693492, 0.00059749116, 0.000464106, 0.00042456685, 0.00036868957, 0.00022523063, 0.0001099855, -1.7542443e-5, -0.00018657444, -0.0003190714, -0.0004235351, -0.00051354605, -0.0005620084, -0.0006342486, -0.00076505484, -0.00085501344, -0.0009308928, -0.001056607, -0.0011357857, -0.0011796332, -0.001228786, -0.001249154, -0.0013025581, -0.0013415562, -0.001292639, -0.0012361631, -0.0011944388, -0.0011566395, -0.0010632073, -0.0009007503, -0.00078995153, -0.00067993463, -0.0005480949, -0.00043889164, -0.00027476545, -0.00017574639, -0.00011632184, 6.1886254e-5, 0.00016128612, 0.00022564051, 0.00035536534, 0.00036079218, 0.00038203268, 0.0004418589, 0.00041168623, 0.00048067956, 0.0005465995, 0.0005086191, 0.00052794156, 0.0005187392, 0.0005056254, 0.0005174707, 0.00046396238, 0.00047299004, 0.00045677566, 0.00037371955, 0.00038932572, 0.00030888623, 0.00016652638, 0.00016292943, 6.117548e-5, -0.00013588162, -0.00024993886, -0.00035411667, -0.00044030498, -0.00052249734, -0.0006234848, -0.00068167323, -0.00075135083, -0.0008361098, -0.0009098572, -0.000984466, -0.0010162066, -0.0010557417, -0.0010756627, -0.0010040443, -0.0009899217, -0.0010151041, -0.0009596832, -0.00093712856, -0.0009228872, -0.0008301648, -0.0007560411, -0.00068310986, -0.000580163, -0.0005293197, -0.0004740021, -0.00036072388, -0.00027906022, -0.00023582566, -0.00017926359, -0.00011644305, -2.0377709e-5, 9.438886e-5, 0.0001208147, 9.913593e-5, 0.00014372093, 0.00018864113, 0.00017906411, 0.0001858784, 0.00022881413, 0.00026885906, 0.00027032846, 0.00026993494, 0.00030109624, 0.00026539274, 0.00021015303, 0.00025481672, 0.00024305182, 0.00016202623, 0.00017616004, 0.00016207198, 8.3269195e-5, 7.138387e-5, 3.1692107e-5, -5.4442033e-5, -7.081379e-5, -7.505207e-5, -0.000130492, -0.00018702999, -0.00020607286, -0.0002300835, -0.00029432753, -0.00033247998, -0.0003435973, -0.00037463527, -0.00039750797, -0.0004351698, -0.00045675036, -0.0003945447, -0.00036370242, -0.00040187765, -0.00041129283, -0.00042529876, -0.00045785445, -0.00047121465, -0.000527585, -0.00060086674, -0.00059930526, -0.00059434515, -0.0006209114, -0.00062160875, -0.0006605181, -0.00071135414, -0.0007002531, -0.00075058994, -0.0008155421, -0.00079029065, -0.00081065827, -0.00084013416, -0.00081982807, -0.0008273677, -0.0007947908, -0.0007913677, -0.00084301585, -0.0007953264, -0.00077926414, -0.00079479715, -0.00070833997, -0.0006664183, -0.0006082003, -0.0004991725, -0.0005062365, -0.00047547912, -0.00034814014, -0.00025206723, -0.00013813487, 2.7427232e-6, 0.00015307587, 0.00024389129, 0.00026473103, 0.00037572326, 0.00048683496, 0.00054851605, 0.0006797862, 0.00076656305, 0.0008387591, 0.00094090495, 0.0009673805, 0.0010574437, 0.0011516698, 0.0011237852, 0.0011611064, 0.0012041922, 0.0011874691, 0.0012045166, 0.0011574138, 0.001109816, 0.0011322815, 0.0010934637, 0.0010107446, 0.0009304091, 0.0008944728, 0.0008764637, 0.00074125285, 0.0006122551, 0.00054913404, 0.00041848377, 0.0003098119, 0.00022258898, 8.28948e-5, -1.0989199e-5, -0.0001210439, -0.00028448532, -0.00039332826, -0.0004872299, -0.00057648524, -0.0006531101, -0.00075570634, -0.0007862183, -0.00078072364, -0.0008598197, -0.0009091337, -0.0009227381, -0.0009799052, -0.0009669346, -0.00090663694, -0.00087602355, -0.0008036472, -0.0007521404, -0.0007442223, -0.0006772487, -0.0006011076, -0.0005424174, -0.00047943674, -0.00042854348, -0.0003291843, -0.00022376835, -0.0001640538, -5.636426e-5, 6.212547e-5, 0.00014528383, 0.0002572967, 0.00035447316, 0.00040719623, 0.00046973373, 0.0005321724, 0.0005580649, 0.0005791508, 0.0006323666, 0.00065791095, 0.000655132, 0.00069099496, 0.0006916328, 0.0006347061, 0.0006050216, 0.000572666, 0.0005093943, 0.00044829593, 0.00039136692, 0.00033210168, 0.0002781198, 0.00022983336, 0.00014244702, 4.0313047e-5, -2.5550664e-5, -0.000121330304, -0.00022438193, -0.0003010172, -0.000415023, -0.000509508, -0.00058452657, -0.00066676456, -0.00070006447, -0.00078584615, -0.00088177796, -0.00085272983, -0.0008441701, -0.0008691333, -0.00085099426, -0.0008585035, -0.0008306339, -0.0007622448, -0.0007335496, -0.0006961878, -0.0006583614, -0.00063574745, -0.000569888, -0.00046728025, -0.00038418744, -0.00034357113, -0.0003026541, -0.00025106766, -0.00019332519, -9.177963e-5, 1.1245866e-6, 5.5840603e-5, 0.00012941769, 0.00021291465, 0.00028272922, 0.00032763078, 0.0003758117, 0.00045368553, 0.00050849665, 0.0005674811, 0.00062330125, 0.00060300785, 0.0005940398, 0.0006226218, 0.00063217146, 0.0006476114, 0.00063603924, 0.0005844636, 0.000532998, 0.000504326, 0.00048734303, 0.00042123476, 0.00040014012, 0.00043494347, 0.00032855186, 0.0002175302, 0.0002408573, 0.000212609, 0.00016513698, 0.00015218407, 6.8856636e-5, 3.0693118e-5, 6.9820846e-5, 1.5794432e-5, -4.9035356e-5, -1.3655739e-5, -3.1012845e-5, -8.3850886e-5, -4.0148225e-5, -4.0871084e-5, -9.7213466e-5, -7.4935066e-5, -7.0008e-5, -8.263851e-5, -7.142987e-5, -0.000119972, -0.0001338747, -8.9446825e-5, -0.0001024314, -0.00013897025, -0.00016946149, -0.0001888989, -0.00019167113, -0.00020098715, -0.00020856498, -0.00024117887, -0.0002614247, -0.00025803747, -0.00031021566, -0.00033071337, -0.00031102405, -0.0003287467, -0.0003020463, -0.0002970338, -0.00036224967, -0.00037051988, -0.00036713734, -0.0003974387, -0.00040047464, -0.00039826892, -0.0004207775, -0.0004355517, -0.0004224969, -0.0004551454, -0.0005055482, -0.00046905986, -0.00044105324, -0.00043848198, -0.0004108345, -0.00042362828, -0.00038488046, -0.00030146638, -0.00028722984, -0.00024303398, -0.00020888224, -0.00022101325, -0.00013850445, -4.3614127e-5, -1.4445017e-5, 2.294514e-5, 5.7265104e-5, 9.0055866e-5, 0.0001356852, 0.00014547879, 0.0001207217, 0.00015156541, 0.00021455681, 0.00019863076, 0.00019598825, 0.00023367521, 0.00020204435, 0.0001837822, 0.0001756488, 0.00014928386, 0.00019807369, 0.00019315154, 0.00012236746, 0.00013419939, 0.00013539538, 0.00011535229, 0.00012592696, 7.9284095e-5, 1.7954895e-5, 3.0972296e-5, 4.07442e-5, -2.7681715e-5, -4.3800188e-5, 2.22183e-5, -1.4055084e-5, -6.572652e-5, -5.7311554e-5, -0.000121177756, -0.00012257646, -5.678396e-5, -7.591932e-5, -5.149927e-5, -7.206603e-6, -2.0925887e-5, 1.442591e-5, 6.9975235e-5, 0.00010878805, 0.00013400451, 0.00015140063, 0.00019472258, 0.00019489034, 0.00020483167, 0.00029893534, 0.00033635882, 0.00029961998, 0.00029563918, 0.00034702983, 0.00039300002, 0.00036954804, 0.00034932, 0.00036163957, 0.00035988778, 0.00035847197, 0.00032894552, 0.00030498474, 0.00031684875, 0.0002967203, 0.00028071963, 0.00025916792, 0.0001948443, 0.00015330384, 0.000110104884, 6.0642284e-5, 1.2685006e-5, -8.147381e-5, -0.00012797698, -0.000117034935, -0.00017235854, -0.00023761281, -0.00024943292, -0.00028138226, -0.00032448274, -0.00033369087, -0.0003674071, -0.00038410025, -0.00032277373, -0.00031991157, -0.00035498204, -0.00032870896, -0.00033079172, -0.00031011624, -0.0002644581, -0.00028120267, -0.00022755895, -0.0001525103, -0.00015932697, -0.00013686591, -8.752002e-5, -1.5619647e-5, 2.6052789e-5, -6.2068284e-6, 3.573406e-5, 7.475549e-5, 8.16922e-5, 0.00017256787, 0.00018001185, 0.00015570677, 0.0002268655, 0.00022624104, 0.00021332476, 0.00024154995, 0.00022097063, 0.00022514745, 0.0002243799, 0.00017494179, 0.00015798233, 0.00015207549, 9.165847e-5, 2.2671491e-5, 4.2705462e-5, 4.3690234e-5, -5.889259e-5, -9.389021e-5, -9.810603e-5, -0.0001538838, -0.00016699513, -0.00021000617, -0.00026905187, -0.00026962138, -0.00030508707, -0.0003371658, -0.00034942967, -0.0003882403, -0.00036889585, -0.00032072043, -0.00032926112, -0.00035095066, -0.00032883257, -0.00029819115, -0.00030535003, -0.0002723157, -0.00020399819, -0.00017742497, -0.00013588625, -8.9996975e-5, -4.8460068e-5, 2.341946e-5, 4.9483206e-5, 7.8763995e-5, 0.0001648042, 0.00020279606, 0.00021057458, 0.00026291297, 0.0003247349, 0.00034562295, 0.00038050435, 0.0004549825, 0.00046489725, 0.00046418354, 0.0004873911, 0.00043669227, 0.00044384043, 0.0005115822, 0.0004885825, 0.0004561746, 0.0004145818, 0.00036495604, 0.00036405618, 0.00032449007, 0.00028167746, 0.0002374633, 0.00015934333, 0.00013142936, 6.2755695e-5, -1.2940669e-5, 2.0835505e-6, -5.065767e-5, -0.00012098108, -0.00014682251, -0.00023927435, -0.0002942747, -0.00028091506, -0.00030168498, -0.0003372161, -0.00036455205, -0.00037822235, -0.00038970832, -0.0003939346, -0.00038500683, -0.0003856562, -0.00036192735, -0.00035678648, -0.0003655449, -0.00029404898, -0.00025706823, -0.00026485033, -0.00019186306, -0.00014980815, -0.00017087927, -0.00012591504, -3.8155165e-5, 2.5000336e-6, 3.578003e-5, 0.00011026798, 0.00012866038, 0.00013635156, 0.00021524879, 0.0001993341, 0.00017592731, 0.00028301604, 0.00029681146, 0.00025666427, 0.0003140683, 0.00032246637, 0.00027993938, 0.00029226975, 0.00030457607, 0.00024841033, 0.00019581411, 0.00022799385, 0.00022664614, 0.00015734744, 0.00013490599, 0.00010625066, 4.3784654e-5, 2.1661828e-5, 2.608831e-6, -6.914886e-5, -0.00013235043, -0.00011354782, -0.00012219689, -0.00020470937, -0.00021484395, -0.00020304206, -0.00024052645, -0.00024543406, -0.00025274305, -0.00027374236, -0.00027372374, -0.00026657002, -0.00025282218, -0.00026610747, -0.00025607066, -0.0002148399, -0.00022768912, -0.00021023228, -0.00016989946, -0.00019045778, -0.0001714238, -0.00010337768, -5.9824248e-5, -5.7411235e-5, -5.6509118e-5, 3.461173e-6, 3.0147261e-5, 1.3343451e-5, 6.115908e-5, 0.00012335951, 0.00015942365, 0.00015722217, 0.00015206914, 0.00020876246, 0.00020903665, 0.00018145482, 0.0002245256, 0.00021592934, 0.00019712985, 0.00022109822, 0.00019022835, 0.00016766472, 0.00020023802, 0.000214976, 0.00015687878, 8.328547e-5, 0.00010911153, 0.00014157315, 0.00010636978, 9.110695e-5, 7.714789e-5, 4.8238413e-5, 2.9821094e-5, 2.6059213e-5, 2.2721295e-5, -2.586421e-5, -3.93792e-5, -2.5310364e-5, -7.645806e-5, -7.323167e-5, -4.4198605e-5, -8.4752144e-5, -9.505711e-5, -9.6604985e-5, -9.049842e-5, -6.0472492e-5, -8.9973095e-5, -0.0001056933, -0.000102491664, -0.0001239207, -8.711536e-5, -6.473725e-5, -9.55265e-5, -8.709704e-5, -6.73706e-5, -7.1970244e-5, -7.907298e-5, -6.108795e-5, -5.4689146e-5, -9.337293e-5, -7.443529e-5, -1.764203e-5, -2.1927308e-5, -2.9190762e-5, -2.5640948e-5, -3.754401e-5, -4.2122876e-5, -2.5722959e-5, 8.077084e-6, -8.640258e-6, -4.4990287e-5, -8.2225597e-7, 3.242839e-5, -9.077652e-6, -1.3892532e-5, 3.0402873e-5, 2.0147054e-5, -2.4749897e-7, 3.526415e-5, 1.615686e-5, -4.6376517e-6, 5.9099177e-5, 4.274434e-5, 7.2191324e-7, 3.5556543e-5, 4.058159e-5, 6.9889895e-5, 8.612879e-5, 3.8133912e-5, 5.58247e-5, 4.46166e-5, 3.266148e-5, 0.00011708462, 8.333182e-5, 2.0905609e-5, 7.951012e-5, 6.897737e-5, 3.7955884e-5, 7.6091834e-5, 7.4854775e-5, 5.5092398e-5, 5.3063814e-5, 5.5317767e-5, 6.472749e-5, 5.3788208e-5, 3.4914432e-5, 4.91944e-5, 7.155599e-5, 3.9878476e-5, 1.7790144e-6, 3.1900952e-5, 5.108194e-5, 2.251799e-5, 1.4704033e-5, 1.7011636e-5, 3.8791768e-8, -1.0545787e-5, -2.1256492e-6, -1.2551347e-5, -3.4875546e-5, -2.2757482e-5, -1.5896389e-5, -1.8534583e-5, -6.310187e-6, -9.036634e-6, -2.61077e-6, -1.0874086e-5, -3.3106124e-5, -1.1815333e-5, -1.7675335e-5, -1.7397078e-5, 5.0818307e-6, -4.9941937e-5, -4.939157e-5, 9.271735e-6, -5.772994e-6, -8.651263e-6, -2.6272268e-5, -4.342207e-5, 8.2040333e-7, -2.6039597e-5, -4.1450134e-5, 1.2138246e-6, -2.6198059e-5, -2.9354644e-5, -1.1442032e-5, -2.474156e-5, -1.994831e-6, -1.07284795e-5, -2.6709607e-5, 6.9875387e-7, -2.3595258e-6, -7.924737e-6, -6.5459644e-6, -5.8687874e-6, 9.184052e-6, -2.2367567e-7, -4.3474065e-6, 7.275776e-8, -1.5150927e-6, 9.706366e-6, -7.5245507e-6, -6.7268866e-6, 1.6186053e-5, -8.791071e-6, -1.1120446e-6, 2.0946158e-5, -1.2454359e-6, 9.016411e-6, 1.3469245e-5, -4.63335e-6, 1.420306e-5, 1.6947015e-5, 2.2588856e-6, 1.3091338e-5, 1.4537169e-5, 6.519586e-6, 1.8653678e-5, 2.1646549e-5, 5.0986305e-6, 1.6092128e-5, 2.7708484e-5, 1.0485304e-5, 1.8198349e-5, 2.7157808e-5, 1.4821791e-5, 1.89603e-5, 1.9584677e-5, 2.0903446e-5, 2.1793525e-5, 9.055666e-6, 2.0070718e-5, 2.593113e-5, 1.5617525e-5, 1.7430675e-5, 6.9782445e-6, 8.551508e-6, 2.030882e-5, 6.704901e-6, -3.3123997e-6, -3.9371375e-6, 2.101037e-6, 1.9154352e-6, -1.0849056e-5, -3.4693016e-6, -2.463092e-6, -1.233846e-5, -1.7943616e-5, -2.2697226e-5, 5.422136e-7, -1.4043308e-5, -4.245104e-5, 2.1897245e-6, -1.075064e-5, -4.8687994e-5, 4.0108813e-7, -4.9766654e-6, -4.2921638e-5, -1.9504205e-5]);

		// Right channel.
		assert_eq!(audio[0].chan(1), &[0.0; 0]);
		assert_eq!(audio[1].chan(1), &[0.002503876, 0.002433121, 0.0030289334, 0.0034547306, 0.0034605525, 0.0034064087, 0.0034498218, 0.003639126, 0.0040427754, 0.0046366607, 0.005286826, 0.0056202183, 0.005431204, 0.005063853, 0.004909532, 0.005011184, 0.00511821, 0.0050407373, 0.004966309, 0.0049358415, 0.0047111176, 0.0043914495, 0.0040738573, 0.0036191288, 0.0031927582, 0.0030010156, 0.0030279718, 0.0032246392, 0.003349293, 0.003341999, 0.0035586618, 0.0040565506, 0.0045593716, 0.0048880987, 0.005023569, 0.0052638426, 0.0058983415, 0.006728057, 0.007271789, 0.0070589967, 0.006115455, 0.0052378364, 0.0050492994, 0.0046867914, 0.0013964418, -0.0075674467, -0.02189338, -0.038707953, -0.055221662, -0.06838819, -0.07467851, -0.073579736, -0.07017289, -0.07224152, -0.08387093, -0.10204486, -0.119393244, -0.1287925, -0.12719555, -0.118819356, -0.11290128, -0.11513466, -0.12283805, -0.13008036, -0.13492408, -0.13901164, -0.14248712, -0.14338556, -0.14090471, -0.13617894, -0.13061328, -0.12509197, -0.11981818, -0.11349586, -0.10339378, -0.0877095, -0.0673711, -0.044824284, -0.022028083, 6.0103834e-5, 0.020531736, 0.037979715, 0.05245485, 0.06689806, 0.08439783, 0.104947984, 0.12583296, 0.14439292, 0.15994889, 0.17279126, 0.18282305, 0.1905379, 0.19693063, 0.20194857, 0.20544283, 0.20831095, 0.210753, 0.21088915, 0.20619595, 0.19621538, 0.1835071, 0.1712848, 0.16061018, 0.15030853, 0.13852993, 0.1237599, 0.10496713, 0.0817796, 0.05504029, 0.02717053, 0.0017354832, -0.018485136, -0.033902306, -0.04786489, -0.06367145, -0.08228348, -0.10251079, -0.12267173, -0.1417396, -0.15904552, -0.17339939, -0.18268143, -0.18499143, -0.1812304, -0.17583893, -0.17344259, -0.17458303, -0.17568508]);
		assert_eq!(audio[2].chan(1), &[-0.17295109, -0.16449957, -0.14940456, -0.12798406, -0.1030323, -0.07910765, -0.059854664, -0.045217212, -0.031556193, -0.014763784, 0.007436663, 0.0346063, 0.06350221, 0.090191446, 0.11251471, 0.1303769, 0.14452322, 0.15515089, 0.16242899, 0.16816607, 0.17493185, 0.18370047, 0.19288674, 0.19911623, 0.19971344, 0.19432119, 0.18412405, 0.17124072, 0.15797198, 0.14529084, 0.13269477, 0.11879186, 0.102124244, 0.08240273, 0.06027226, 0.03677382, 0.013639653, -0.007734672, -0.027513627, -0.047002055, -0.067442164, -0.08858544, -0.10898155, -0.12815021, -0.14680173, -0.16501608, -0.18125173, -0.19300675, -0.19905148, -0.20079216, -0.20080614, -0.20114435, -0.20242772, -0.20296058, -0.19973052, -0.19077477, -0.17614976, -0.1576692, -0.13780153, -0.11823557, -0.09966805, -0.081690006, -0.06226612, -0.03910743, -0.011952895, 0.017059287, 0.04470218, 0.068582885, 0.08842802, 0.10529385, 0.120105565, 0.1335604, 0.14632821, 0.15871881, 0.17073645, 0.18182877, 0.19021946, 0.19370508, 0.19115514, 0.18315846, 0.17208931, 0.1607147, 0.15012518, 0.13971233, 0.12825769, 0.11452163, 0.09772095, 0.07775122, 0.0554136, 0.03244671, 0.0105164265, -0.009749518, -0.028823908, -0.047765203, -0.06722733, -0.08681883, -0.10547456, -0.1222962, -0.13697058, -0.14945903, -0.15949048, -0.1662375, -0.16893476, -0.16823298, -0.16582887, -0.16289416, -0.15956305, -0.15471451, -0.14651664, -0.1340209, -0.11750678, -0.09818213, -0.078000896, -0.058465987, -0.03978478, -0.021199364, -0.001717887, 0.018893307, 0.03977839, 0.059483144, 0.07675691, 0.09145001, 0.10429551, 0.115995, 0.12680972, 0.13628866, 0.14364433, 0.14848718, 0.15074788, 0.15055521, 0.14801261, 0.14296016, 0.13529016, 0.12536117, 0.11395166, 0.101862036, 0.08945077, 0.07653439, 0.062381092, 0.046222184, 0.028262865, 0.009556671, -0.008786985, -0.026012506, -0.042035397, -0.057200335, -0.07197099, -0.0867574, -0.101090275, -0.11370902, -0.12367704, -0.13064335, -0.13484833, -0.13693237, -0.13713717, -0.13528262, -0.13136637, -0.12572312, -0.11874377, -0.11042944, -0.10028399, -0.08753261, -0.071707375, -0.05346534, -0.03437726, -0.015952311, 0.0009441074, 0.016343351, 0.030946027, 0.045584917, 0.06067035, 0.07566431, 0.08948064, 0.101208344, 0.11023594, 0.11667943, 0.12135411, 0.12477526, 0.12693408, 0.1276219, 0.12646, 0.123169586, 0.11777125, 0.11041369, 0.10118186, 0.09016497, 0.07778662, 0.064717874, 0.0515026, 0.03847542, 0.025519526, 0.01202458, -0.0024579428, -0.017798882, -0.033367097, -0.048257206, -0.061780564, -0.073735155, -0.08417123, -0.09318637, -0.10078343, -0.10669597, -0.110603236, -0.11252688, -0.11276084, -0.11153031, -0.10882205, -0.10440607, -0.09801574, -0.08959142, -0.07944753, -0.068117395, -0.05596216, -0.043155134, -0.029817937, -0.015972774, -0.0017721988, 0.012374005, 0.025977178, 0.03848519, 0.04960526, 0.0595542, 0.06857807, 0.07672081, 0.08388604, 0.08972058, 0.09381371, 0.095982835, 0.0963972, 0.09548911, 0.09343794, 0.0900498, 0.085184336, 0.07886495, 0.07121579, 0.062481884, 0.052983347, 0.04298839, 0.03260291, 0.021899074, 0.011008013, 3.3106364e-5, -0.0109566385, -0.021961633, -0.03295285, -0.04372575, -0.053957332, -0.06319154, -0.07109659, -0.07763718, -0.0826972, -0.08624197, -0.08842578, -0.08916096, -0.08842044, -0.08629887, -0.0826992, -0.07770415, -0.071365, -0.06360358, -0.05479148, -0.045218095, -0.034883972, -0.024083009, -0.013000609, -0.0017428003, 0.009314176, 0.020090496, 0.030631894, 0.0405874, 0.04952521, 0.05710734, 0.06319116, 0.068041444, 0.07204655, 0.0752848, 0.077565, 0.07869786, 0.07842841, 0.07659315, 0.07346176, 0.06922989, 0.063862175, 0.057597954, 0.05059815, 0.04281297, 0.03441233, 0.025580779, 0.016431877, 0.007068968, -0.0025096934, -0.012211874, -0.021845562, -0.031088946, -0.039582092, -0.047357276, -0.054453056, -0.0607756, -0.0664896, -0.07134943, -0.07478241, -0.07672946, -0.077075034, -0.07561792, -0.072780274, -0.06902457, -0.06438633, -0.058782827, -0.05216372, -0.0446484, -0.03644227, -0.027663508, -0.018438274, -0.008860936, 0.001016777, 0.010919564, 0.020326838, 0.028888702, 0.036537148, 0.04324618, 0.04920937, 0.054658256, 0.059303217, 0.06281565, 0.06510207, 0.06589842, 0.06529848, 0.063893646, 0.061997958, 0.05959186, 0.05637523, 0.051885586, 0.046142276, 0.03955961, 0.03246958, 0.025083324, 0.017469535, 0.009705274, 0.001971161, -0.005660122, -0.013179217, -0.020519601, -0.027616875, -0.03438458, -0.04065098, -0.04619437, -0.05087669, -0.05467472, -0.05751414, -0.059179045, -0.059532408, -0.05884309, -0.05752011, -0.05549939, -0.052419625, -0.048199356, -0.043011494, -0.036933336, -0.030025613, -0.022749402, -0.015594801, -0.008408305, -0.0009464052, 0.006669022, 0.01437124, 0.021989977, 0.029182933, 0.03582721, 0.041774407, 0.04678395, 0.050800182, 0.05377121, 0.055680834, 0.05669684, 0.05692446, 0.05632573, 0.05479395, 0.052204553, 0.048612334, 0.044248752, 0.039245497, 0.033636812, 0.027567208, 0.021171061, 0.014476024, 0.0075764805, 0.0005669935, -0.0064849076, -0.013430413, -0.020198395, -0.02665957, -0.032467324, -0.037499785, -0.041986763, -0.046147753, -0.049930662, -0.052990366, -0.055037767, -0.055998534, -0.055913553, -0.05496898, -0.053187728, -0.05036994, -0.046573505, -0.04207697, -0.037134007, -0.031775296, -0.025725905, -0.019029105, -0.01209086, -0.005027218, 0.0021072384, 0.009128022, 0.015953513, 0.022428332, 0.02840183, 0.033815518, 0.038501516, 0.04236971, 0.0453877, 0.0474378, 0.048615508, 0.04905566, 0.04857506, 0.047051605, 0.044667058, 0.041618746, 0.03805612, 0.03406006, 0.029442353, 0.024074819, 0.018285587, 0.012439542, 0.0066351146, 0.00086589484, -0.0050065923, -0.011025784, -0.016896138, -0.022345947, -0.027314935, -0.031736303, -0.03550162, -0.038660195, -0.041402876, -0.04367697, -0.04527005, -0.04618064, -0.046349727, -0.04562328, -0.044050813, -0.04168569, -0.038592562, -0.0349175, -0.030606847, -0.025632158, -0.020235114, -0.01462022, -0.0088460585, -0.002947732, 0.003059333, 0.009226251, 0.015527715, 0.021613225, 0.027028078, 0.031619888, 0.035499405, 0.038767584, 0.041395724, 0.043415755, 0.044894345, 0.045625106, 0.045406945, 0.044317797, 0.042478077, 0.040050007, 0.0371422, 0.033710044, 0.029839143, 0.025605585, 0.020964308, 0.016060527, 0.011068869, 0.006004676, 0.00090871006, -0.004134382, -0.009005077, -0.013549563, -0.017749643, -0.021738926, -0.025473323, -0.0286867, -0.031361256, -0.033617787, -0.03533002, -0.0364066, -0.036792055, -0.03641763, -0.035491936, -0.034127362, -0.032268528, -0.029962823, -0.027011886, -0.02331279, -0.019140093, -0.014597487, -0.00982298, -0.0049582263, 0.00014733011, 0.005315899, 0.010180541, 0.014654927, 0.018732885, 0.022611866, 0.02635709, 0.0296763, 0.032534637, 0.034895927, 0.036499698, 0.037295047, 0.037296344, 0.036652394, 0.03561093, 0.03411787, 0.032170724, 0.029798262, 0.026783783, 0.023168482, 0.019184213, 0.014941369, 0.01067918, 0.0065585035, 0.0024126517, -0.0018631238, -0.006072997, -0.010030578, -0.01374542, -0.017238464, -0.020624524, -0.023964247, -0.02688421, -0.029134652, -0.030798845, -0.031807117, -0.032312296, -0.032626133, -0.032609485, -0.03204705, -0.030893954, -0.02919262, -0.027055781, -0.024367768, -0.021117853, -0.017612776, -0.013898685, -0.009879125, -0.0056147063, -0.0012401221, 0.002993483, 0.0069799777, 0.010798752, 0.014476223, 0.017984195, 0.021048632, 0.023453033, 0.02539236, 0.026939092, 0.028052365, 0.028760036, 0.028877297, 0.028377198, 0.02738899, 0.025819512, 0.023740422, 0.021319663, 0.018560452, 0.015561316]);
		assert_eq!(audio[3].chan(1), &[0.012380649, 0.008991148, 0.0053961, 0.0015954621, -0.002124544, -0.0054782573, -0.008650094, -0.011822443, -0.015015833, -0.018208936, -0.02114398, -0.023642791, -0.025730692, -0.027373144, -0.028598925, -0.029335024, -0.029416105, -0.029044967, -0.028390335, -0.027321255, -0.025924275, -0.024278156, -0.022210326, -0.019707909, -0.016817579, -0.0135424, -0.0099891545, -0.0061604315, -0.0021980514, 0.0014515775, 0.0047005136, 0.00777412, 0.010723087, 0.013605308, 0.016350346, 0.0186619, 0.02051091, 0.021943297, 0.022785729, 0.023086464, 0.023021886, 0.022523692, 0.021586586, 0.020365134, 0.018904682, 0.017174607, 0.015067937, 0.01245883, 0.009500267, 0.0064834035, 0.0035518247, 0.0007673563, -0.0018947003, -0.00445084, -0.006869396, -0.009291709, -0.011715643, -0.013877735, -0.015734233, -0.017240549, -0.018275125, -0.018963164, -0.019265631, -0.019130867, -0.018831026, -0.018289471, -0.017261093, -0.015909437, -0.01438834, -0.012658843, -0.01058984, -0.008161435, -0.00562248, -0.0029940344, -0.00024507704, 0.0023335984, 0.004756297, 0.007224942, 0.009678952, 0.012087286, 0.014351058, 0.016264608, 0.017709816, 0.018630058, 0.019189395, 0.01956678, 0.019780103, 0.019836549, 0.019517368, 0.018662363, 0.017374082, 0.015655575, 0.013689558, 0.011581867, 0.009129353, 0.0066418257, 0.0044202097, 0.0022826162, 0.0002989989, -0.0017291389, -0.0041648443, -0.0066098114, -0.008759534, -0.010664097, -0.012127058, -0.0131586995, -0.013903974, -0.014372003, -0.014693868, -0.014864041, -0.014781109, -0.014500651, -0.013960806, -0.013031689, -0.011716656, -0.010081122, -0.008230287, -0.006276446, -0.0042661917, -0.002160903, 5.939645e-5, 0.0023951316, 0.004836288, 0.0071712295, 0.009250723, 0.0111516435, 0.012847165, 0.0144053735, 0.015846787, 0.016924022, 0.017797412, 0.018616956, 0.019054273, 0.019118568, 0.01885184, 0.018133335, 0.017169626, 0.015841186, 0.014051812, 0.012254832, 0.010430111, 0.008433251, 0.006432664, 0.004186141, 0.0016280287, -0.0009634028, -0.0035660982, -0.005988425, -0.008095311, -0.010070253, -0.011857234, -0.013433223, -0.014900327, -0.016179767, -0.017310241, -0.018258868, -0.018756397, -0.018797914, -0.018576462, -0.018110301, -0.017282438, -0.01606014, -0.014595504, -0.013014045, -0.011313098, -0.009525567, -0.0076926975, -0.005705702, -0.0033919164, -0.0008625088, 0.0015133355, 0.0035645915, 0.005332081, 0.0068835975, 0.008326056, 0.009644147, 0.010773569, 0.01177848, 0.012619639, 0.013215394, 0.013613126, 0.013709173, 0.013319896, 0.012508326, 0.01142528, 0.010161721, 0.008824733, 0.0074249436, 0.0058699446, 0.00418431, 0.0024206813, 0.0004889621, -0.0016306416, -0.003803912, -0.0059230994, -0.007902234, -0.009642671, -0.011060077, -0.012174665, -0.013192172, -0.014154974, -0.014852542, -0.015274626, -0.0154199395, -0.015105106, -0.014450771, -0.013689568, -0.01276483, -0.011622051, -0.010262569, -0.008679176, -0.0069506913, -0.0051175994, -0.0032406063, -0.00139655, 0.00047974952, 0.0023577441, 0.0041643535, 0.0059736487, 0.007657153, 0.009059537, 0.010343965, 0.011519158, 0.0124546485, 0.013221996, 0.013727608, 0.0138489455, 0.0137419095, 0.013391555, 0.012749415, 0.011939959, 0.010836358, 0.009393684, 0.007778305, 0.0059084576, 0.0038771804, 0.0019436536, 7.4318574e-5, -0.0016533573, -0.003205666, -0.0048428546, -0.006594207, -0.008377868, -0.010141387, -0.011719194, -0.013067081, -0.014078848, -0.014640782, -0.014945289, -0.015092758, -0.015118159, -0.015103517, -0.014826597, -0.014145613, -0.013173693, -0.01188987, -0.010338121, -0.008666214, -0.006908564, -0.005093695, -0.0031879933, -0.0011064556, 0.0010948383, 0.0033287727, 0.005576001, 0.0077544493, 0.009777137, 0.0116593605, 0.0132872155, 0.014483342, 0.015359972, 0.016056823, 0.016629707, 0.017213635, 0.017596487, 0.017423034, 0.01682938, 0.016028179, 0.015007771, 0.013783686, 0.012397992, 0.010880345, 0.009188366, 0.0073468327, 0.005513184, 0.0036541547, 0.0017691803, -4.0210434e-6, -0.0017547659, -0.0034917598, -0.0051462785, -0.0068275067, -0.008387977, -0.009637851, -0.010642599, -0.0113935955, -0.012012008, -0.012625305, -0.013023697, -0.013071356, -0.012775907, -0.01224276, -0.011681955, -0.011043733, -0.010256968, -0.00931817, -0.008055359, -0.0066032796, -0.005216199, -0.0038119124, -0.0023431203, -0.0007547409, 0.0009410833, 0.0024963745, 0.0039501246, 0.0054012006, 0.006679923, 0.007760005, 0.008639347, 0.009291362, 0.009828266, 0.010213419, 0.010365426, 0.010379983, 0.01029278, 0.009945585, 0.009242444, 0.008394639, 0.007580612, 0.0067632417, 0.005970907, 0.0051689963, 0.0042645987, 0.0032336162, 0.0020186598, 0.0007713203, -0.00034160865, -0.0013821559, -0.0022479896, -0.0028948474, -0.0034431, -0.0039124205, -0.0044720904, -0.0051186658, -0.0055521475, -0.0057679717, -0.005877508, -0.005944661, -0.005968228, -0.005731006, -0.005311953, -0.004968894, -0.0046190955, -0.0041928845, -0.0037262584, -0.0032367283, -0.0027145015, -0.0020692223, -0.0014718586, -0.0011048065, -0.00074211194, -0.00028713373, 0.00014015613, 0.00051641604, 0.0008233655, 0.0011051185, 0.0013754399, 0.0015157271, 0.0014571971, 0.0012150431, 0.0009190078, 0.00065674284, 0.00037815925, 0.00015372704, -3.8276135e-5, -0.00038138608, -0.0008008767, -0.0011910116, -0.0015984683, -0.0019386867, -0.0021482662, -0.0022835839, -0.0023459862, -0.0023454071, -0.0023015542, -0.0021620882, -0.00190549, -0.0016337524, -0.0014159505, -0.0011218688, -0.00065712817, -8.215883e-5, 0.0005862647, 0.0012162249, 0.001619789, 0.0019495972, 0.0023977738, 0.00291344, 0.0034210077, 0.0038167136, 0.004083774, 0.0043529617, 0.004598068, 0.004704765, 0.0046836054, 0.0046386607, 0.00460121, 0.0044029355, 0.0040350268, 0.0036548472, 0.003173558, 0.0026489228, 0.0022717637, 0.0018059445, 0.0010870333, 0.00024950207, -0.0007018036, -0.0016684266, -0.0024822948, -0.0031903926, -0.0038287938, -0.004431598, -0.005071628, -0.005665512, -0.006193169, -0.0067613614, -0.0072788475, -0.007637307, -0.007918419, -0.008093521, -0.008063935, -0.00785269, -0.007493282, -0.007115201, -0.0068109017, -0.0064185425, -0.0058843708, -0.0052339938, -0.004343205, -0.0033153354, -0.002389139, -0.0015104375, -0.0005556988, 0.000434532, 0.0014550529, 0.002541046, 0.003505723, 0.0042387736, 0.004975415, 0.0056997985, 0.0062024924, 0.0065971464, 0.006910518, 0.0070419153, 0.007063248, 0.007001912, 0.006908628, 0.006824025, 0.0066489168, 0.0063518854, 0.0058733015, 0.005191607, 0.004437456, 0.0036673695, 0.0030111754, 0.0025337695, 0.0019734628, 0.0012242626, 0.00042471616, -0.0003526915, -0.0010692833, -0.001724712, -0.0023019356, -0.0027532557, -0.0031330213, -0.0035058516, -0.0038481355, -0.004129703, -0.0043690414, -0.004497527, -0.004402671, -0.0041894387, -0.003921277, -0.0035145527, -0.0030550514, -0.0025382563, -0.0019105736, -0.0013151375, -0.0006674011, 9.699585e-5, 0.0008052131, 0.0015721505, 0.0024129965, 0.0031425513, 0.003929993, 0.0047471942, 0.005323097, 0.005799882, 0.0062920125, 0.0067207105, 0.0071320273, 0.0074144555, 0.0073913625, 0.007126224, 0.006806305, 0.006568886, 0.00627585, 0.0057494566, 0.0050890422, 0.004363794, 0.003596731, 0.002786687, 0.0018073705, 0.0007807048, -0.00014614989, -0.001070084, -0.0019422839, -0.002795577, -0.0037261567, -0.0045754607, -0.005336319, -0.0060353326, -0.0066091856, -0.00716642, -0.007638785, -0.0079358565, -0.008153146, -0.008254129, -0.008284529, -0.00824067, -0.008025533, -0.0078022606, -0.0074983854, -0.0069404254, -0.0062891706, -0.005544081, -0.0047294633, -0.0039976505, -0.0032457681, -0.0024371976, -0.0016145129, -0.0008311777, -0.0001966292, 0.00044970377, 0.0011802317, 0.0018331505, 0.0023907113, 0.0027716164, 0.0029872842, 0.0031797634, 0.0032398195, 0.003184226, 0.0031504813, 0.003066608, 0.0029065828, 0.0026215129, 0.0021782613, 0.0016954032, 0.0011283769, 0.0004844868, -6.2587904e-5, -0.0005547004, -0.0010157961, -0.0013874397, -0.0018066484, -0.0023342688, -0.002924828, -0.0035428852, -0.0039603654, -0.004088292, -0.0041377963, -0.004154136, -0.00411029, -0.004050377, -0.0039483625, -0.0038592466, -0.0037322955, -0.0034079358, -0.0030249483, -0.0026603667, -0.0021825014, -0.0016559312, -0.001158648, -0.000693822, -0.00030426995, 6.187428e-5, 0.0004978271, 0.0010705558, 0.0017693804, 0.0024965652, 0.0031299572, 0.00348089, 0.003589101, 0.0036892847, 0.0037980108, 0.004003844, 0.004351712, 0.004574896, 0.004693977, 0.0048116297, 0.0047477065, 0.0045309993, 0.0042228135, 0.0037696203, 0.0033170646, 0.0029676901, 0.0027282415, 0.0025704247, 0.002297458, 0.0018528202, 0.0013423138, 0.0007770064, 0.00025057723, -0.00012568268, -0.000386197, -0.000551015, -0.00070316775, -0.0009325063, -0.001125984, -0.0012831643, -0.0014951397, -0.0016035145, -0.0015776579, -0.0015593074, -0.0014668066, -0.0012967493, -0.0011515194, -0.0009569962, -0.00074687274, -0.00059395185, -0.00041290818, -0.0002430411, -0.000116045776, 8.339746e-5, 0.0003099597, 0.0004981278, 0.0007010481, 0.00079734647, 0.0007346695, 0.0007044106, 0.0006617762, 0.00054076035, 0.00048484013, 0.00036709115, 0.00015370204, 3.9543025e-5, -0.00015007958, -0.00044772378, -0.0006575342, -0.00092140975, -0.001222399, -0.0014521726, -0.0017316403, -0.0019813762, -0.0021897862, -0.0024653687, -0.0026996753, -0.002884632, -0.0030613039, -0.0032448687, -0.0035102093, -0.0037358154, -0.0038621288, -0.003962714, -0.0039428063, -0.0038054078, -0.0036715544, -0.003576463, -0.0034775664, -0.0032469295, -0.0028888066, -0.0024745895, -0.001990089, -0.0015371451, -0.0011108026, -0.0005811341, -6.137346e-5, 0.00042016082, 0.0010210318, 0.0016480434, 0.002191762, 0.0027292357, 0.0031731694, 0.0034474526, 0.0037029025, 0.0039577256, 0.004163641, 0.004352489, 0.004466157, 0.004534118, 0.0045507974, 0.0043898183, 0.004184481, 0.0039617955, 0.0035710249, 0.0031892662, 0.002877322, 0.0024435814, 0.0019025693, 0.0013610071, 0.0008547567, 0.00030676485, -0.00029386254, -0.0008727398, -0.0015432402, -0.0022116841, -0.0027179674, -0.0032887398, -0.0039071906, -0.0044576204, -0.00507673, -0.005624285, -0.006014443, -0.0063730488, -0.0066519026, -0.006848145, -0.006940338, -0.0069324826, -0.0069197537, -0.0067606354, -0.0064448826, -0.006107514, -0.0056758784, -0.0051949443, -0.004663837, -0.003983331, -0.0032668042, -0.002517263, -0.0017400772, -0.0010427407, -0.000303593, 0.0004604624, 0.0011238072, 0.001813561, 0.002511896, 0.0030859117, 0.0036138352, 0.004161738, 0.004685797, 0.0051488425, 0.0055523636, 0.0058808024, 0.0060878294, 0.0062163174, 0.00630999, 0.0063472856, 0.006347302, 0.0062386836, 0.0059640175, 0.005666227, 0.0053374013, 0.0048382846, 0.0042524645, 0.003673254, 0.0030798025, 0.0024917133, 0.0018812754, 0.0011704972, 0.00039125374, -0.0003442882, -0.0010499738, -0.0017791709, -0.002391336, -0.0028583354, -0.003326483, -0.0037644426, -0.004196657, -0.0046577463, -0.0049642995, -0.0051396214, -0.005294204, -0.005371929, -0.005376545, -0.005261916, -0.0050277244, -0.0047672032, -0.004485896, -0.004240183, -0.003903937, -0.0033525769, -0.0028089434, -0.002249146, -0.0016265862, -0.0010978729, -0.00051197974, 7.9591206e-5, 0.00053188164, 0.0010444387, 0.0015482167, 0.0020268038, 0.0026037402, 0.0030494744, 0.0033716182, 0.003682665, 0.0038711955, 0.0040095137, 0.004091249, 0.0040970715, 0.0041196668, 0.004033245, 0.0038518216, 0.0036650915, 0.0033714878, 0.003010129, 0.002605137, 0.0021463088, 0.0017319766, 0.0012961632, 0.0007895946, 0.00030336715, -0.00021052384, -0.00082891143, -0.0014246078, -0.0018632772, -0.0022846404, -0.002786015, -0.0032304095, -0.003611093, -0.0039353063, -0.0041593793, -0.004386649, -0.004592832, -0.004714526, -0.004815859, -0.004865251, -0.004870203, -0.004825774, -0.0046389885, -0.0044091837, -0.0041868975, -0.0038378143, -0.0034136486, -0.0030700867, -0.0027848254, -0.0024642774, -0.0021020672, -0.0016977985, -0.001248796, -0.00082684075, -0.000446775, -6.442133e-5, 0.00031163136, 0.00066242425, 0.0009880067, 0.0013126994, 0.0015733466, 0.0017231333, 0.001917457, 0.0021379245, 0.0022488968, 0.0023188957, 0.0023022932, 0.002208716, 0.0021951518, 0.0021543503, 0.0020555346, 0.001968854, 0.0017830166, 0.001558753, 0.0013593737, 0.0011093955, 0.0008793776, 0.00065489346, 0.00039704156, 0.00021498022, 8.349144e-5, -5.806994e-5, -0.00016498775, -0.0002350813, -0.00030867232, -0.00038574485, -0.000410725, -0.0004082276, -0.0004202702, -0.00037709766, -0.00031672468, -0.00026934844, -0.00013656402, 3.5608755e-6, 0.000109263405, 0.00027710837, 0.0004326931, 0.00060532073, 0.00087414065, 0.0010584292, 0.0011823575, 0.0013841479, 0.0015137221, 0.0015822646, 0.0017147652, 0.0018302214, 0.0019457191, 0.002080821, 0.002151867, 0.0021759677, 0.0021287075, 0.0020210412, 0.0019275495, 0.0017771581, 0.0015613133, 0.0013376633, 0.0011098078, 0.00089988514, 0.00063186325, 0.0002824157, -8.432612e-5, -0.0004908035, -0.0008550151, -0.0011571293, -0.0014933967, -0.0017969976, -0.0020787069, -0.0023701056, -0.0026267208, -0.002922924, -0.0031823479, -0.0033461219, -0.0035300362, -0.0036491067, -0.0036874004, -0.0037336182, -0.0037307031, -0.0037275674, -0.0037432965, -0.0037068815, -0.0036171528, -0.0034329763, -0.0031961228, -0.0029355756, -0.0026292757, -0.0023856405, -0.0021299268, -0.0017734553, -0.0014532679, -0.0011157221, -0.00070479175, -0.00032426004, 3.489596e-5, 0.00035594983, 0.00063879276, 0.0009458127, 0.001213475, 0.0014363048, 0.0016835494, 0.0018994417, 0.0020676292, 0.0022737626, 0.002452348, 0.0024869193, 0.0024830874, 0.0024960963, 0.002418397, 0.0022866211, 0.0021844448, 0.002128923, 0.0020807362, 0.0019385589, 0.0017489773, 0.0015312252, 0.0012287362, 0.0009892618, 0.0008115256, 0.00058818166, 0.00042670037, 0.00024595778, -4.7160924e-5, -0.0002539461, -0.0003740765, -0.00056617614, -0.0007576278, -0.0008517745, -0.0009404496, -0.0010519723, -0.0010948379, -0.0011195579, -0.001137419, -0.0010866707, -0.0010751951, -0.0010830993, -0.0010202806, -0.0009343369, -0.00076368696, -0.0005512023, -0.00039907248, -0.00021584208, -2.7863309e-5, 0.0001282626, 0.0002669638, 0.00036425004, 0.00054779305, 0.0007210309, 0.0007471121, 0.00088334637, 0.0010846794, 0.0011303914, 0.0011491781, 0.0011374315, 0.0010349721, 0.00093876355, 0.0008409834, 0.00074830325, 0.0006815053, 0.0005740202, 0.00039997927, 0.00020069533, 3.629174e-5, -0.00012946827, -0.00032703753, -0.00048310452, -0.00065687526, -0.0008945602, -0.0010930593, -0.0012841149, -0.0014932022, -0.0016311349, -0.0017590555, -0.001914188, -0.0019755084, -0.0019903057, -0.0020809958, -0.0021261822, -0.0020400835, -0.0019650208, -0.0019185413]);
		assert_eq!(audio[4].chan(1), &[-0.0018070367, -0.0017026038, -0.0016265787, -0.0014454024, -0.0011915653, -0.0009847804, -0.00075269316, -0.00047266023, -0.00028829405, -0.00016565922, 5.8104768e-5, 0.00035390462, 0.0005994981, 0.0007798715, 0.0009295507, 0.0010849581, 0.0012771962, 0.0014119928, 0.0014278053, 0.0014772892, 0.001549832, 0.0015205068, 0.0015074732, 0.0014957382, 0.0013785146, 0.0012672046, 0.0011517287, 0.000994341, 0.00082169165, 0.00056243147, 0.00031544885, 0.0001050702, -0.00018105665, -0.0004007691, -0.0005777613, -0.0008385589, -0.001053553, -0.0012533098, -0.0014603217, -0.0015673502, -0.0016836104, -0.0018205239, -0.001886949, -0.0019591155, -0.002006517, -0.001942677, -0.0018502396, -0.0017754496, -0.0016632848, -0.001541217, -0.0013990737, -0.0011440585, -0.0008713357, -0.00062328606, -0.00030674483, -4.599005e-5, 0.00017745697, 0.0004836052, 0.0007430336, 0.0010335929, 0.001367338, 0.0015320503, 0.0017025166, 0.0019557683, 0.0021432173, 0.0023454805, 0.0024651482, 0.002429631, 0.0024252792, 0.0024317792, 0.00241829, 0.0024182019, 0.0023523427, 0.002226478, 0.0020433718, 0.0017994135, 0.0015638646, 0.0013047602, 0.0010001813, 0.0006871963, 0.00032597533, -5.2258045e-5, -0.00035768648, -0.0006863928, -0.0011039294, -0.0014573197, -0.0017739888, -0.0021418293, -0.0024253377, -0.0027027165, -0.003019436, -0.003171211, -0.0033107598, -0.0035165932, -0.0035790997, -0.0036185277, -0.0036370282, -0.003490363, -0.0033642363, -0.0032733015, -0.003093842, -0.002890199, -0.002658646, -0.002399, -0.0021352172, -0.0018251751, -0.0014973852, -0.0011681422, -0.00079746253, -0.00039810434, -4.7659953e-5, 0.00024682356, 0.0006063383, 0.0009817876, 0.0012387655, 0.0015005125, 0.0018154344, 0.0020444768, 0.0022334524, 0.0024593435, 0.002632653, 0.0027178775, 0.0027510233, 0.0027335775, 0.002712188, 0.0026856945, 0.0025554975, 0.0023671389, 0.0021851547, 0.0019479867, 0.0016958278, 0.0014330122, 0.0011043121, 0.0008089582, 0.00051169837, 0.000107874526, -0.00025854277, -0.0005279988, -0.00083190197, -0.0011901594, -0.0015253132, -0.0018355733, -0.0021562318, -0.002407871, -0.0025713032, -0.0027634962, -0.002927804, -0.0029947495, -0.0030561048, -0.0030768753, -0.0030176907, -0.0029537813, -0.0028664395, -0.0027431913, -0.0025894125, -0.0023474337, -0.002066425, -0.0017913234, -0.0014537909, -0.0010909642, -0.00075827946, -0.00041330382, -7.2816525e-5, 0.00026870955, 0.00064199115, 0.0009803528, 0.0013122227, 0.0016822617, 0.0019753538, 0.0021964374, 0.0024303014, 0.0026130762, 0.0027447187, 0.0029067302, 0.0030260987, 0.0030224535, 0.0030081247, 0.003020144, 0.0029445377, 0.0028365725, 0.0027104106, 0.0024429904, 0.0021620532, 0.0019206386, 0.0015740353, 0.001217639, 0.0008905941, 0.0005059714, 0.0001255339, -0.0002695037, -0.0006708364, -0.0010090062, -0.0013906793, -0.0018084971, -0.0021420598, -0.002431469, -0.0026965975, -0.0028784522, -0.0030215138, -0.0032060286, -0.0033456553, -0.0033781289, -0.0034145324, -0.0034215283, -0.0033458013, -0.0032721192, -0.003128668, -0.002900392, -0.002692795, -0.0024436282, -0.002143319, -0.0018623564, -0.0015720672, -0.0012419712, -0.0009147425, -0.000625607, -0.00025650574, 0.00016999879, 0.0004755118, 0.00078618916, 0.0011194391, 0.0013500369, 0.0016173472, 0.0018284435, 0.0019403346, 0.0021433763, 0.0022412806, 0.0022572242, 0.0023781552, 0.002352027, 0.0022341213, 0.0021977676, 0.0020931342, 0.0019229794, 0.001682027, 0.0014139226, 0.001212983, 0.0009428484, 0.00066950533, 0.0004183696, 4.3319524e-5, -0.00027141566, -0.00053975126, -0.00090665865, -0.0011745397, -0.0013848083, -0.0016426812, -0.0018148394, -0.0019695146, -0.0021610148, -0.0022841394, -0.002349254, -0.0023955791, -0.0023925488, -0.0023157864, -0.0022217114, -0.0021234408, -0.0019699144, -0.0018152772, -0.001637595, -0.0013927175, -0.0011706819, -0.0009051913, -0.00057075557, -0.000300692, -4.616459e-5, 0.00021531005, 0.00047103822, 0.0007917464, 0.0010785492, 0.0013220194, 0.0015901416, 0.0017709704, 0.0019509493, 0.0021860427, 0.0022811657, 0.0023527474, 0.002524729, 0.0025779966, 0.0025121453, 0.0025001317, 0.002485835, 0.0023631298, 0.0021884933, 0.0020353396, 0.0018236714, 0.0015418886, 0.0013099549, 0.0010917755, 0.0008505735, 0.00062756054, 0.0003540864, 6.47421e-5, -0.00017803098, -0.0004474314, -0.000694014, -0.0009105721, -0.0011703132, -0.0013498194, -0.001448492, -0.0015978096, -0.0017134141, -0.0017681695, -0.0018612065, -0.0019337477, -0.001914412, -0.0018789058, -0.0018640201, -0.001785716, -0.0016488176, -0.0015448898, -0.001432546, -0.0012586518, -0.0010688227, -0.00087535527, -0.0006850068, -0.00051850337, -0.00036246344, -0.00018908265, 1.5743237e-5, 0.00020173872, 0.00035412767, 0.0005288691, 0.0006800401, 0.00076611264, 0.00085587375, 0.00094320707, 0.0009935666, 0.0010613796, 0.001120268, 0.0011049146, 0.0011254158, 0.0011886741, 0.0011167083, 0.0009996012, 0.00094919046, 0.0008421986, 0.00073485053, 0.0006489809, 0.00049673487, 0.00041012917, 0.00034202868, 0.00016243733, -1.7722414e-5, -0.00019323897, -0.00033931024, -0.00043412225, -0.0005826482, -0.000676277, -0.00071582856, -0.0008205946, -0.000890626, -0.0009608287, -0.0010327757, -0.0010367909, -0.0010759416, -0.0010524266, -0.00097273034, -0.0009889837, -0.00094285887, -0.0008681683, -0.0008498355, -0.0007535468, -0.00067699555, -0.0006162994, -0.0005032133, -0.00043653065, -0.0003390847, -0.0002704805, -0.00025046436, -9.524845e-5, -1.750188e-5, -5.2880612e-5, 4.8519825e-5, 0.00012170295, 0.00013785504, 0.00023015891, 0.00027600725, 0.00028850583, 0.00031650756, 0.00033159167, 0.00036586873, 0.00037391455, 0.00036990264, 0.00036943742, 0.00032595493, 0.00033055432, 0.00034941215, 0.00028189298, 0.0002470593, 0.0002487072, 0.0001719935, 7.2333874e-5, 1.7774659e-5, -1.2028482e-5, -3.1543816e-5, -4.0901752e-5, -6.8603535e-5, -0.00014004383, -0.00020091637, -0.00021684013, -0.00023748493, -0.00025925227, -0.00025262858, -0.00024776012, -0.0002605273, -0.0002905358, -0.0003157544, -0.00029643276, -0.00027385284, -0.00025788782, -0.00021113796, -0.00019458034, -0.00017737805, -0.00010205158, -7.6311815e-5, -7.305544e-5, -4.2660286e-5, -8.093064e-5, -0.00010086701, -3.5652698e-5, 3.6955316e-6, -1.4097895e-7, -3.166528e-5, -4.340589e-5, -2.6031252e-5, -7.074939e-5, -0.00011111182, -0.00012384757, -0.00016881524, -0.00015151204, -0.00014298335, -0.00021809446, -0.00021345663, -0.0001853741, -0.00023347315, -0.0002389014, -0.00023238748, -0.00026570063, -0.00023461808, -0.0001907055, -0.00021911238, -0.00021494488, -0.0001956601, -0.00023578627, -0.00022413694, -0.0002081255, -0.0002464921, -0.0001922995, -0.00014849806, -0.00017438552, -0.000121542376, -0.00010559399, -0.00010782511, -2.5120651e-5, -2.4225155e-5, -5.6386198e-6, 0.0001131757, 0.00014036582, 0.00016685232, 0.00024989923, 0.0002749215, 0.00030636706, 0.0003435413, 0.0003429135, 0.00036229583, 0.00040373928, 0.00044157443, 0.00044016246, 0.00038576272, 0.00033624296, 0.00032330246, 0.0002989298, 0.00021649296, 0.00014749536, 0.00012959019, 7.494784e-5, -1.3240351e-5, -8.815964e-5, -0.00015462712, -0.00022341358, -0.0003218299, -0.00041448293, -0.00047515176, -0.0005174915, -0.00053142157, -0.0005966303, -0.0007106339, -0.00075920444, -0.00077789585, -0.00081860274, -0.0008739487, -0.0009077336, -0.00089622044, -0.00093170354, -0.0009656334, -0.0009227637, -0.000924181, -0.00093145797, -0.00090162456, -0.0009074031, -0.000848984, -0.0007551188, -0.0007363503, -0.0006703599, -0.0005547807, -0.00051130593, -0.00047768396, -0.00038825345, -0.00028703286, -0.00016746749, -4.9164104e-5, -9.232297e-6, 4.5481596e-5, 0.00015729264, 0.0001938672, 0.00023819649, 0.00035144863, 0.0004080928, 0.000455459, 0.0005182673, 0.0005484581, 0.00058426685, 0.0006002868, 0.0006192301, 0.00065864867, 0.0006598871, 0.0006527618, 0.00062532315, 0.000603159, 0.00063229393, 0.00060040585, 0.00053107017, 0.00049874524, 0.00045915166, 0.00043390732, 0.00038301287, 0.00028997049, 0.000228537, 0.00015365197, 8.0454614e-5, 6.740983e-5, 3.1827396e-5, -6.595797e-5, -0.00014822728, -0.00018446142, -0.00023512592, -0.00026800187, -0.000277993, -0.0003790619, -0.00044711257, -0.00043393462, -0.00052610756, -0.0005872388, -0.00054254284, -0.000561216, -0.00057037413, -0.0005616732, -0.00060817174, -0.0006160926, -0.00059330475, -0.0005778116, -0.00054937304, -0.00052400446, -0.00048429068, -0.00041852373, -0.00036882426, -0.0003714052, -0.00033933198, -0.00022859269, -0.00016822571, -0.0001172984, -2.3377681e-5, 2.1225285e-5, 8.311597e-5, 0.00013916369, 0.00015759122, 0.0002549265, 0.00030697614, 0.00031217645, 0.0004176144, 0.00047768373, 0.0004998344, 0.0005783541, 0.00058823626, 0.0005740079, 0.0006336739, 0.0006768951, 0.00066797406, 0.00068677176, 0.00071519497, 0.0006796269, 0.0006676854, 0.0006675241, 0.0005724141, 0.0005144909, 0.00051056297, 0.00045044802, 0.00039305323, 0.00033810546, 0.00028234586, 0.00022283364, 0.00011935644, 6.728285e-5, 1.8515984e-5, -0.00010636497, -0.0001821527, -0.00021523824, -0.00025816634, -0.00030453387, -0.0003764603, -0.00044727855, -0.0005299917, -0.00057412195, -0.0005537692, -0.000602982, -0.0006489516, -0.00061158545, -0.0006137749, -0.00064220245, -0.0006537196, -0.00064779306, -0.0006010592, -0.0005577549, -0.0005211486, -0.00047196881, -0.00040455215, -0.0003172698, -0.00025906088, -0.0001979999, -0.00011010836, -4.323903e-5, 2.3503766e-5, 9.057131e-5, 0.00016438327, 0.0002615271, 0.00034051202, 0.00042025815, 0.0004930469, 0.00053374696, 0.0006017363, 0.0006739944, 0.00068461016, 0.0006791777, 0.00073370896, 0.00079036853, 0.000766538, 0.00073588896, 0.0006983518, 0.00063599064, 0.0006355032, 0.0005995133, 0.0005036109, 0.00046207014, 0.000412241, 0.00034514462, 0.0002500377, 0.00012420614, 6.561715e-5, -4.4427507e-5, -0.00016566379, -0.00016047075, -0.00023649927, -0.0003503661, -0.00038546827, -0.0004936822, -0.00058447424, -0.0006151637, -0.0006804707, -0.0007083413, -0.0007259244, -0.0007557529, -0.0007508012, -0.00074635784, -0.0007459126, -0.000746469, -0.0007251109, -0.0006911361, -0.00067314587, -0.0006087549, -0.000542397, -0.0004959607, -0.0004183569, -0.0003652252, -0.00028722238, -0.0002045366, -0.00018629608, -8.061124e-5, 5.6288147e-5, 0.00011997635, 0.00022250398, 0.0002896702, 0.00030196656, 0.00039028615, 0.0004817512, 0.00050507445, 0.0005384596, 0.0006157921, 0.0006453641, 0.00061895617, 0.00063938356, 0.00064199575, 0.00060156494, 0.00059825514, 0.00055964565, 0.00050811796, 0.000508543, 0.00045517, 0.0003572032, 0.00032326917, 0.00032029516, 0.0002480218, 0.00015237686, 0.00011538167, 5.8596837e-5, -1.0340533e-5, -4.8282964e-5, -0.00012613364, -0.0001844943, -0.00020480616, -0.00025171626, -0.00029714507, -0.0003505091, -0.00037264606, -0.00038765758, -0.00045086094, -0.00043971284, -0.0004323592, -0.0004732937, -0.0004226744, -0.00041406258, -0.00042741201, -0.00035906353, -0.00034873438, -0.00029781036, -0.00021212304, -0.00023621882, -0.00019065785, -8.9459325e-5, -5.784433e-5, -4.445319e-7, 6.70054e-5, 0.000118629716, 0.00017977407, 0.0002290413, 0.00026197103, 0.00026592345, 0.00029674947, 0.00035351433, 0.00035525742, 0.00036367244, 0.00040043038, 0.00039536037, 0.00037398352, 0.00038384934, 0.00039077483, 0.00036377212, 0.00036651624, 0.00035702428, 0.0002809529, 0.00026688652, 0.00024760474, 0.00016514218, 0.00017497866, 0.00015359244, 6.159907e-5, 6.1131315e-5, 1.7829123e-5, -6.866531e-5, -5.1815266e-5, -5.351272e-5, -0.00012220017, -0.00017503332, -0.00020825688, -0.00022482741, -0.00021453283, -0.00020824115, -0.00025357865, -0.00028559964, -0.00025895168, -0.00025711049, -0.00026854244, -0.00025041966, -0.00023233605, -0.00023215965, -0.00023760632, -0.00019902659, -0.00018138703, -0.00022391311, -0.0001886311, -0.00011951561, -0.0001146243, -9.6096686e-5, -5.134204e-5, -2.3578468e-5, -3.780148e-5, -3.043213e-5, 4.902744e-5, 6.995085e-5, 5.5571174e-5, 8.990425e-5, 9.434785e-5, 0.000105564075, 0.00012175799, 0.00010147769, 0.00010828931, 0.000101828744, 9.847736e-5, 0.000116249896, 8.603686e-5, 9.091725e-5, 0.00011280109, 7.7705714e-5, 6.368547e-5, 5.1960465e-5, 3.575781e-5, 5.2208867e-5, 6.292536e-5, 5.2925054e-5, 1.1712313e-5, 5.9484737e-6, 3.4867204e-5, -1.7961924e-5, -5.6529243e-5, -2.0541716e-5, -1.9276864e-5, -4.4836546e-5, -4.8914168e-5, -2.3726898e-5, -3.531747e-5, -8.0800455e-5, -3.867026e-5, -6.5608183e-6, -4.053684e-5, -1.8786048e-5, -1.4174744e-5, -4.5679313e-5, -2.0677006e-5, 8.9255045e-6, 4.9931114e-6, -4.5731285e-6, 4.773814e-6, 9.281503e-6, 1.0808086e-5, 4.7004083e-5, 2.6683061e-5, -1.4952588e-5, 3.0646857e-5, 4.035927e-5, -1.8504506e-6, -2.3231958e-5, -2.2956345e-5, 2.3116241e-5, 7.8853045e-6, -4.3694934e-5, -3.4652912e-6, 3.0111987e-6, -2.8896728e-5, -2.7898051e-5, -4.6397116e-5, -2.959408e-5, -1.1421409e-5, -3.919147e-5, -3.3334254e-5, -3.1430594e-5, -4.721518e-5, -5.612961e-5, -7.350362e-5, -5.016224e-5, -2.3510758e-5, -4.785112e-5, -6.786229e-5, -5.4265358e-5, -2.1596643e-5, -2.2481414e-5, -5.601764e-5, -4.684973e-5, -1.1619806e-5, -4.7268986e-6, -1.2974095e-5, -3.5855774e-6, 8.604096e-6, 8.405055e-6, 1.6093269e-5, 9.860349e-6, 2.2004162e-5, 5.9959864e-5, 2.979884e-5, 1.6137015e-5, 5.6400742e-5, 4.6591664e-5, 4.7020825e-5, 3.9834216e-5, 2.8373288e-5, 8.157003e-5, 3.090449e-5, -3.4122917e-5, 5.5589437e-5, 6.8541936e-5, 1.0534204e-5, 2.5292728e-5, 2.5125482e-5, 2.8552095e-5, 4.00126e-5, 2.6874506e-5, 2.1551903e-5, -1.0894022e-5, -1.6247097e-5, 2.5320456e-5, 1.0951917e-6, -3.971846e-5, -1.4462963e-5, 1.4588502e-5, 5.793718e-7, -2.3190238e-5, -2.23195e-5, -9.775442e-6, -5.7435245e-6, -1.5275586e-5, -2.0241838e-5, -1.7834995e-5, -2.8321228e-5, -1.8861225e-5, -7.026225e-6, -1.3135053e-5, 1.30909975e-5, 2.034627e-6, -3.439383e-5, 9.744479e-6, 3.2580654e-5, 4.2021347e-6, 3.9504084e-7, 4.3057662e-7, 1.3386256e-5, 1.3156467e-5, -3.813053e-6, 5.0628914e-6, 2.4697401e-6, 3.5189769e-6, 3.0851843e-6, 2.0981315e-7, 2.7000471e-5, -6.9975645e-6, -2.489282e-5, 3.8392398e-5, 1.0790995e-5, -3.173054e-5, -6.563154e-6, -1.6710987e-5, -1.7384431e-5, -1.6010144e-5, -2.7136364e-5, -1.4431524e-5, -2.791818e-5, -1.717664e-5, -1.6341255e-6, -3.1923882e-5, -1.0554308e-5, 1.4254147e-6, -2.7310882e-5, -6.4010947e-6, 4.460413e-6, -2.122455e-6, 1.1944721e-5, 1.7126787e-5, 1.50674905e-5, 1.1087099e-5, 2.9207817e-5, 3.388814e-5, 8.875915e-6, 3.107679e-5, 3.524557e-5, 8.342009e-6, 3.5448742e-5, 3.672661e-5, 1.1595282e-5, 1.9848027e-5, 1.6697537e-5, 1.8850591e-5, 1.654087e-5, -3.7213358e-6, 1.0406269e-5, 1.2786816e-5, -1.4161466e-5, -5.029736e-6, 4.3367127e-6, -2.3531282e-5, -2.1862223e-5, 1.3429044e-6, -2.5521189e-5, -3.9784987e-5, -1.381257e-5, -2.225428e-5, -2.4834386e-5, -1.5804088e-5, -3.6358357e-5, -3.1120348e-5, -2.488784e-5, -3.500417e-5, -1.8305967e-5, -2.1524136e-5, -3.0861283e-5, -1.0080416e-5, -3.5916942e-6, -7.797669e-6, -5.981092e-6, -4.8965444e-7, 9.161046e-6, 1.6648817e-5, 1.9386951e-5, 1.4958464e-5, 2.2476728e-5, 2.3900478e-5, 1.7396213e-5, 3.796961e-5, 2.5736268e-5, 1.592837e-5, 5.3748616e-5, 2.869576e-5, 1.4716811e-5, 5.025109e-5, 1.9180592e-5, 1.6867773e-5, 4.3355103e-5]);
	}

	#[test]
	// Makes sure known input `[f32]` always gets
	// resampled into the expect output `[f32]`.
	fn resample_output() {
		use std::num::NonZeroUsize;

		let audio: Vec<AudioBuffer<f32>> = create_test_audio();

		// Create resampler.
		let mut resampler = super::Rubato::new(
			NonZeroUsize::new(SAMPLE_RATE).unwrap(),     // Original sample rate
			NonZeroUsize::new(SAMPLE_RATE * 2).unwrap(), // Target is 2x the sample rate (88,200)
			NonZeroUsize::new(128).unwrap(),             // 128 duration
			NonZeroUsize::new(2).unwrap()                // 2 channels
		);

		// Assert that each resampled output matches the expected values.
		//
		// FIXME:
		// macOS _sometimes_ fails this test because `audio[1]`
		// has these 8 [f32]'s at the front of the array:
		// [-9.313226e-10, -3.7252903e-9, -6.0535967e-9, -4.1909516e-9, -6.7520887e-9, -1.2572855e-8, -9.313226e-9, -9.313226e-9]
		//
		// FIXME:
		// Ubuntu is also now failing, the length of 0's is longer in `audio[0]`.
		// Either the input is non-deterministic, or the resampling is.
		// https://github.com/HEnquist/rubato/issues/73
		assert_eq!(resampler.resample(&audio[0]), &[0.0; 256]);
		assert_eq!(resampler.resample(&audio[1]), &[-1.3969839e-9, -5.122274e-9, -2.3283064e-9, -4.1909516e-9, -9.313226e-10, -8.8475645e-9, 0.0, -4.1909516e-9, 2.7939677e-9, -6.2864274e-9, -9.313226e-10, -9.313226e-10, 1.3969839e-9, -4.1909516e-9, -6.0535967e-9, -1.8626451e-9, 0.0, -1.3969839e-9, -5.122274e-9, -3.0267984e-9, 9.313226e-10, -3.4924597e-9, 2.3283064e-10, -8.614734e-9, 4.1909516e-9, -1.6298145e-9, -1.1641532e-9, -6.7520887e-9, -4.4237822e-9, -1.0244548e-8, -1.3504177e-8, -1.2572855e-8, 9.313226e-10, -4.656613e-10, 1.3969839e-8, 9.778887e-9, 1.3271347e-8, 1.2805685e-8, -2.6775524e-8, -2.2351742e-8, -5.3551048e-8, -5.5413693e-8, -1.3969839e-8, -7.450581e-9, 9.1735274e-8, 9.5693395e-8, 8.8708475e-8, 9.185169e-8, -9.435462e-8, -9.412179e-8, -2.5704503e-7, -2.605375e-7, -5.9371814e-8, -5.9371814e-8, 3.9301813e-7, 3.9720908e-7, 4.246831e-7, 4.4051558e-7, -3.138557e-7, -3.138557e-7, -9.834766e-7, -9.965152e-7, -3.1664968e-7, -3.2782555e-7, 1.3206154e-6, 1.3392419e-6, 1.5795231e-6, 1.6074628e-6, -7.8231096e-7, -7.8976154e-7, -3.0845404e-6, -3.1366944e-6, -1.2926757e-6, -1.3113022e-6, 3.6135316e-6, 3.6619604e-6, 4.7907233e-6, 4.8577785e-6, -1.5497208e-6, -1.5571713e-6, -8.195639e-6, -8.299947e-6, -4.172325e-6, -4.235655e-6, 8.448958e-6, 8.545816e-6, 1.244992e-5, 1.2606382e-5, -2.257526e-6, -2.2798777e-6, -1.9051135e-5, -1.9282103e-5, -1.1462718e-5, -1.1596829e-5, 1.7412007e-5, 1.7635524e-5, 2.887845e-5, 2.9236078e-5, -1.7508864e-6, -1.7732382e-6, -4.0471554e-5, -4.0970743e-5, -2.8282404e-5, -2.861023e-5, 3.33637e-5, 3.3780932e-5, 6.363168e-5, 6.440282e-5, 2.8684735e-6, 2.8721988e-6, -8.530542e-5, -8.6370856e-5, -6.951764e-5, -7.033348e-5, 6.74054e-5, 6.832555e-5, 0.0001549162, 0.0001568757, 2.1368265e-5, 2.1535903e-5, -0.00023649633, -0.00023973733, -0.0002478361, -0.00025118142, 0.00028877705, 0.00029310212, 0.0012559518, 0.0012748465, 0.002171746, 0.002204896, 0.0026292335, 0.0026669432, 0.0026612226, 0.0026883176, 0.0026451917, 0.0026486497, 0.002876358, 0.0028524678, 0.0032872409, 0.0032445618, 0.0035865977, 0.0035426016, 0.0036054365, 0.0035778545, 0.0034487867, 0.003446377, 0.0033323234, 0.0033514774, 0.0033470842, 0.0033767873, 0.0034206486, 0.0034511539, 0.0034650017, 0.0034918908, 0.0034965682, 0.003517037, 0.0035992726, 0.0036065164, 0.0038137173, 0.0037979921, 0.004099535, 0.0040575825, 0.004395661, 0.004339546, 0.0046819253, 0.0046369834, 0.0049684523, 0.004959303, 0.005244161, 0.005279029, 0.005459151, 0.005524327, 0.0055607073, 0.0056284675, 0.0055372138, 0.005580066, 0.0054240115, 0.0054260194, 0.0052747736, 0.005235528, 0.005132675, 0.005065765, 0.0050227926, 0.004951642, 0.0049582436, 0.0049095345, 0.0049434323, 0.00493745, 0.0049701994, 0.005010521, 0.0050161583, 0.00508513, 0.005053304, 0.005119006, 0.0050635496, 0.0050967988, 0.0050483905, 0.0050398763, 0.00502331, 0.0049884133, 0.0050005447, 0.0049671214, 0.0049754716, 0.004962988, 0.0049293414, 0.0049353503, 0.0048460793, 0.0048507564, 0.004726073, 0.004710991, 0.0045832284, 0.004548149, 0.004428381, 0.004392106, 0.004257029, 0.004242571, 0.004055174, 0.0040731058, 0.0038181953, 0.0038620979, 0.0035645291, 0.003619412, 0.0033309292, 0.0033832882, 0.0031535104, 0.0031931438, 0.003051091, 0.0030665006, 0.003021773, 0.0030002631, 0.003050495, 0.0029879063, 0.0031167753, 0.003028525, 0.0031970441, 0.0031161476, 0.0032656845, 0.0032247342, 0.003301328, 0.0033123065, 0.0032985602, 0.003348615, 0.0032766853, 0.0033426527, 0.0032764785, 0.0033427365, 0.0033438355, 0.0034053307, 0.0035081543, 0.0035584345, 0.0037667006, 0.0037884116, 0.004082948, 0.0040560924, 0.004399482, 0.0043222792]);
		assert_eq!(resampler.resample(&audio[2]), &[0.2107672, 0.21075307, 0.2114594, 0.21128485, 0.21118207, 0.21088949, 0.20958272, 0.2092505, 0.20647669, 0.20619525, 0.20192067, 0.20176321, 0.19621569, 0.19621572, 0.18982932, 0.18997464, 0.1832648, 0.18350713, 0.17692724, 0.17720202, 0.17103837, 0.17128426, 0.1656204, 0.16579226, 0.1605371, 0.16061068, 0.15556085, 0.15553035, 0.15043494, 0.15030834, 0.14491408, 0.1447099, 0.13878153, 0.13852958, 0.1318511, 0.13159451, 0.123966545, 0.123760395, 0.115009025, 0.11491086, 0.10491484, 0.104966685, 0.09369653, 0.09390473, 0.08145628, 0.08177956, 0.068385676, 0.06874049, 0.0547566, 0.055040658, 0.04090935, 0.04103647, 0.027238484, 0.02717001, 0.014163556, 0.013922865, 0.0020724384, 0.0017357715, -0.008758929, -0.009091593, -0.018244173, -0.018484969, -0.026525287, -0.026624804, -0.033947732, -0.03390276, -0.04097707, -0.040819682, -0.048086252, -0.047864437, -0.05565194, -0.055412963, -0.063888505, -0.063671544, -0.07283147, -0.07266817, -0.082367204, -0.08228375, -0.09229375, -0.09230911, -0.10238994, -0.10251027, -0.11247019, -0.112681486, -0.12240696, -0.12267203, -0.13211992, -0.1323824, -0.14154354, -0.1417396, -0.1505898, -0.15066524, -0.15911834, -0.15904504, -0.16691771, -0.16670501, -0.17370474, -0.17339978, -0.17914996, -0.17882705, -0.18293995, -0.18268126, -0.18487117, -0.18474486, -0.18494926, -0.18499097, -0.18345203, -0.18365419, -0.18091877, -0.18123095, -0.17805286, -0.17839387, -0.17555846, -0.17583856, -0.17395924, -0.17410636, -0.17346069, -0.17344207, -0.17390719, -0.17373732, -0.17485186, -0.1745843, -0.17571104, -0.17541793, -0.17593424, -0.17568332, -0.1751143, -0.174953, -0.17300223, -0.17295252, -0.16944927, -0.169511, -0.16434208, -0.16449882, -0.15758653, -0.15781017, -0.14915219, -0.1494044, -0.13913915, -0.13937303, -0.1278205, -0.12798446, -0.115634024, -0.115681216, -0.10312979, -0.103032105, -0.09089051, -0.09065309, -0.07943864, -0.07910728, -0.069139734, -0.06879423, -0.060123518, -0.059855264, -0.05225244, -0.05213365, -0.04515947, -0.045216903, -0.038341634, -0.038548246, -0.031268887, -0.031555858, -0.023466017, -0.023749236, -0.01455801, -0.014764581, -0.0042992253, -0.004384797, 0.007390432, 0.0074373335, 0.020388963, 0.020551227, 0.03436629, 0.034606278, 0.048836507, 0.04910457, 0.063258335, 0.06350147, 0.07714374, 0.07731381, 0.09013114, 0.09019239, 0.102009445, 0.10194364, 0.11270421, 0.112514235, 0.12224471, 0.12195574, 0.13071798, 0.13037643, 0.13821508, 0.1378819, 0.14478596, 0.14452425, 0.15043284, 0.15029036, 0.15515612, 0.15515003, 0.15903118, 0.15913987, 0.16226242, 0.16242893, 0.16517237, 0.16531746, 0.16812538, 0.16816694, 0.17142776, 0.17130187, 0.17525095, 0.17493069, 0.17959826, 0.17910403, 0.18430406, 0.18370092, 0.1890554, 0.18843454, 0.19343746, 0.1928872, 0.19700995, 0.19658726, 0.19939947, 0.19911501, 0.20037073, 0.20019248, 0.19984254, 0.19971433, 0.19785328, 0.19771622, 0.19451398, 0.19432117, 0.1899888, 0.18971008, 0.1845035, 0.18412304, 0.17834568, 0.17785922, 0.17182736, 0.17124191, 0.16521621, 0.16455239, 0.15867698, 0.15797138, 0.15225756, 0.15156192, 0.14591599, 0.1452903, 0.13955566, 0.13905412, 0.13304353, 0.13269591, 0.12621735, 0.12601341, 0.11890548, 0.11879091, 0.110965185, 0.110855125]);
		assert_eq!(resampler.resample(&audio[3]), &[-0.10750049, -0.105473734, -0.11624278, -0.114145786, -0.124432914, -0.12229608, -0.13207355, -0.12990528, -0.13918436, -0.13697144, -0.1457735, -0.1434937, -0.15182027, -0.14945777, -0.1572656, -0.15481958, -0.16200955, -0.15949118, -0.16592044, -0.16334277, -0.16886757, -0.1662377, -0.17077398, -0.16809273, -0.17166506, -0.16893357, -0.17167863, -0.16890629, -0.17102636, -0.16823424, -0.16992958, -0.16714746, -0.16856954, -0.16582821, -0.16707024, -0.16439256, -0.1654994, -0.1628936, -0.16385828, -0.1613171, -0.16205709, -0.15956432, -0.15990327, -0.15744567, -0.15713346, -0.15471318, -0.15348624, -0.15112656, -0.14877665, -0.14651696, -0.14292984, -0.14081214, -0.13596795, -0.13402167, -0.12797949, -0.1262128, -0.11910361, -0.11750528, -0.109531604, -0.10808133, -0.099502146, -0.09818326, -0.08927028, -0.088077955, -0.0790581, -0.07800083, -0.069014326, -0.068108685, -0.05920119, -0.05846494, -0.049604677, -0.04905089, -0.04015135, -0.039786242, -0.030724794, -0.030548798, -0.021188002, -0.02119842, -0.011417262, -0.011611458, -0.0013401657, -0.0017176401, 0.0090398975, 0.00847728, 0.019641649, 0.01889205, 0.030321283, 0.029386144, 0.04089441, 0.0397798, 0.051161103, 0.04987465, 0.060938187, 0.059482437, 0.0700952, 0.06846292, 0.07857931, 0.07675633, 0.08641333, 0.08438962, 0.093669176, 0.091451466, 0.100436255, 0.09805232, 0.10680449, 0.104294, 0.11285895, 0.110257104, 0.11867058, 0.1159955, 0.12427275, 0.121524975, 0.12963791, 0.12681055, 0.13467838, 0.13176763, 0.13927716, 0.13628669, 0.14332964, 0.14026825, 0.1467671, 0.1436465, 0.14955345, 0.14638935, 0.15167156, 0.14848562, 0.15311864, 0.14993504, 0.15391149, 0.15074834, 0.15408522, 0.15094729, 0.15367451, 0.15055549, 0.15268819, 0.149582, 0.15110005, 0.14801216, 0.14886667, 0.14581436, 0.14595836, 0.14296003, 0.14237987, 0.13944308, 0.13817087, 0.13529095, 0.13339543, 0.13056584, 0.12813479, 0.12536001, 0.12248549, 0.11978466, 0.116553925, 0.1139524, 0.11044005, 0.107957415, 0.10421769, 0.101862155, 0.09792274, 0.09569441, 0.09155257, 0.08944975, 0.085068814, 0.083089605, 0.07839648, 0.07653567, 0.07142674, 0.069673695, 0.06403614, 0.0623803, 0.056126546, 0.05456764, 0.047666926, 0.046221934, 0.038713187, 0.03741169, 0.029394627, 0.028263975, 0.01987942, 0.01892911, 0.010339145, 0.0095553715, 0.0009237975, 0.00027858093, -0.008255471, -0.008786334, -0.017138135, -0.01756018, -0.025715964, -0.026012056, -0.03401781, -0.03415706, -0.04208447, -0.042036608, -0.04995226, -0.04969965, -0.057658352, -0.057199083, -0.06525582, -0.06459927, -0.07281273, -0.07197141, -0.08038001, -0.079363324, -0.087946646, -0.086758, -0.09541735, -0.09405421, -0.10263349, -0.101088986, -0.10942213, -0.10768816, -0.115637824, -0.11371005, -0.121176, -0.11905904, -0.12596686, -0.12367682, -0.1299739, -0.12753521, -0.1332051, -0.13064253, -0.13572097, -0.13305168, -0.13761882, -0.13484952, -0.13899377, -0.13612449, -0.13990025, -0.13693145, -0.14034012, -0.13727778, -0.14028093, -0.13713713, -0.13968723, -0.13647735, -0.13854374, -0.13528349, -0.13686322, -0.13356717, -0.13468367, -0.13136518, -0.13206063, -0.12873134, -0.12905458, -0.12572384, -0.12571365, -0.12238853, -0.12205702, -0.118743934, -0.118067324, -0.11477368, -0.113692656, -0.11042847, -0.10885388, -0.1056315]);
		assert_eq!(resampler.resample(&audio[4]), &[0.084098384, 0.08388551, 0.08732653, 0.08699783, 0.090127565, 0.08972047, 0.09247813, 0.092003815, 0.094371915, 0.0938143, 0.095808074, 0.095137484, 0.096791334, 0.09598204, 0.09734262, 0.09638316, 0.09750414, 0.0963976, 0.09732719, 0.096086, 0.09684848, 0.09548924, 0.09607392, 0.09461401, 0.09498301, 0.09343726, 0.09354805, 0.091924906, 0.09175117, 0.090050526, 0.08958718, 0.087803125, 0.08705635, 0.08518392, 0.08415946, 0.08220048, 0.080901414, 0.078864686, 0.07729836, 0.07519458, 0.07337993, 0.071216464, 0.06918379, 0.06696502, 0.06474817, 0.062481087, 0.060107976, 0.057807595, 0.055295154, 0.052983724, 0.050339535, 0.04803859, 0.04526746, 0.042988613, 0.040099528, 0.037841063, 0.034849774, 0.032602105, 0.02952704, 0.027282974, 0.024137832, 0.021899933, 0.018690007, 0.016470008, 0.013196485, 0.011007609, 0.007676197, 0.0055248924, 0.002148535, 3.2763928e-5, -0.003376754, -0.0054611303, -0.008906521, -0.010955695, -0.014458505, -0.016455384, -0.02004413, -0.021962598, -0.025651917, -0.027468856, -0.03124551, -0.03295246, -0.036776796, -0.038383015, -0.04220094, -0.04372522, -0.047479365, -0.04893577, -0.05257205, -0.05395849, -0.057432596, -0.058728654, -0.062015645, -0.06319046, -0.06628935, -0.067314275, -0.07023711, -0.07109679, -0.07384487, -0.07454148, -0.07708918, -0.07763799, -0.07994321, -0.08036198, -0.08239831, -0.08269578, -0.084476545, -0.08464699, -0.08621503, -0.08624296, -0.08763175, -0.08750445, -0.08870648, -0.088425815, -0.089399025, -0.08898287, -0.08968936, -0.08915975, -0.089599624, -0.0889655, -0.0891747, -0.08842192, -0.08843996, -0.08753757, -0.08737839, -0.08629803, -0.0859489, -0.08468443, -0.084124364, -0.082698725, -0.081910826, -0.08036537, -0.07933182, -0.07770556, -0.07640188, -0.074713305, -0.07312189, -0.07136353, -0.06950065, -0.06764832, -0.065573834, -0.063604034, -0.0613933, -0.059299164, -0.05699472, -0.054792292, -0.05237865, -0.05010182, -0.047528632, -0.045216538, -0.04244888, -0.040133942, -0.037182685, -0.034885198, -0.03179172, -0.029522074, -0.026318619, -0.024082892, -0.020772286, -0.018576205, -0.015150178, -0.012999558, -0.009471575, -0.0073721586, -0.003785262, -0.0017442964, 0.0018568132, 0.0038275076, 0.0074317884, 0.009315141, 0.01295058, 0.014728451, 0.018430723, 0.020090658, 0.023864217, 0.025403254, 0.02920809, 0.030630734, 0.03440084, 0.03571309, 0.039383784, 0.040588766, 0.044108987, 0.045206863, 0.048534878, 0.04952444, 0.052623678, 0.05350172, 0.05634849, 0.057107005, 0.05970431, 0.060330108, 0.062711, 0.06319229, 0.06540619, 0.06574245, 0.06783395, 0.06804015, 0.070035815, 0.07013421, 0.07204391, 0.072047144, 0.07387377, 0.073772565, 0.07551819, 0.0752852, 0.07694776, 0.07655643, 0.07811938, 0.07756378, 0.07898757, 0.07828744, 0.07951242, 0.07869908, 0.07966371, 0.07875847, 0.079425886, 0.078427866, 0.078804076, 0.077696495, 0.07782371, 0.07659259, 0.07651873, 0.07516765, 0.07491355, 0.07346305, 0.07301547, 0.071488015, 0.070825286, 0.06922862, 0.06835618, 0.066678934, 0.06563963, 0.063862555, 0.06271029, 0.060823865, 0.059584454, 0.057598703, 0.056255326, 0.054194123, 0.052711725, 0.050596684, 0.04896129, 0.046798453, 0.045034472, 0.04281418, 0.040966384, 0.038675416, 0.036777046, 0.034412146, 0.032470588, 0.030042864, 0.028051617, 0.025579758, 0.023537286, 0.021037716]);
	}
}